<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/logo.png"><link rel="canonical" href="https://astro-paper.pages.dev/posts/nextjs-openai-amotion-app/"><meta name="generator" content="Astro v3.2.3"><!-- General Meta Tags --><title>Next.js„Å®OpenAI„ÅßÊÑüÊÉÖÂàÜÊûê„Ç¢„Éó„É™„Çí‰Ωú„Çã</title><meta name="title" content="Next.js„Å®OpenAI„ÅßÊÑüÊÉÖÂàÜÊûê„Ç¢„Éó„É™„Çí‰Ωú„Çã"><meta name="description" content="Next.js13„Å®OpenAI„ÅßÊÑüÊÉÖÂàÜÊûê„Çí„Åó„Å¶„Åè„Çå„ÇãAI„Ç¢„Éó„É™„ÅÆ‰Ωú„ÇäÊñπ„ÇíËß£Ë™¨„Åó„Åæ„Åô„ÄÇ„É¶„Éº„Ç∂„ÉºË™çË®ºÊ©üËÉΩ„Çí‰Ωú„Çä„ÄÅ„É¶„Éº„Ç∂„ÉºID„ÅßÊÑüÊÉÖÂàÜÊûê„Éá„Éº„Çø„ÇíÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ„Éá„Éº„Çø„ÅØPrisma„ÇíÁµåÁî±„Åó„ÄÅSupabase„Å´‰øùÂ≠ò„Åó„Åæ„Åô„ÄÇÊú¨Êõ∏„Åß„ÅØ„Éï„É´„Çπ„Çø„ÉÉ„ÇØ„Ç¢„Éó„É™„Çí‰Ωú„Çä‰∏ä„Åí„Åæ„Åôüí™„ÄÇÊâÄ„ÄÖNext.js„ÅÆ„Ç≥„Éº„ÉâÈÄ≤Ë°å„ÅÆ„Éù„Ç§„É≥„Éà„ÇíËß£Ë™¨„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇNext.js„ÅÆÂÖ•ÈñÄÊõ∏„Å®„Åó„Å¶„ÇÇ„Åä‰Ωø„ÅÑÈ†Ç„Åë„ÇãÂÜÖÂÆπ„Å´„Å™„Å£„Å¶„Åä„Çä„Åæ„ÅôüòÉ"><meta name="author" content="kapucode"><link rel="sitemap" href="/sitemap-index.xml"><!-- Open Graph / Facebook --><meta property="og:title" content="Next.js„Å®OpenAI„ÅßÊÑüÊÉÖÂàÜÊûê„Ç¢„Éó„É™„Çí‰Ωú„Çã"><meta property="og:description" content="Next.js13„Å®OpenAI„ÅßÊÑüÊÉÖÂàÜÊûê„Çí„Åó„Å¶„Åè„Çå„ÇãAI„Ç¢„Éó„É™„ÅÆ‰Ωú„ÇäÊñπ„ÇíËß£Ë™¨„Åó„Åæ„Åô„ÄÇ„É¶„Éº„Ç∂„ÉºË™çË®ºÊ©üËÉΩ„Çí‰Ωú„Çä„ÄÅ„É¶„Éº„Ç∂„ÉºID„ÅßÊÑüÊÉÖÂàÜÊûê„Éá„Éº„Çø„ÇíÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ„Éá„Éº„Çø„ÅØPrisma„ÇíÁµåÁî±„Åó„ÄÅSupabase„Å´‰øùÂ≠ò„Åó„Åæ„Åô„ÄÇÊú¨Êõ∏„Åß„ÅØ„Éï„É´„Çπ„Çø„ÉÉ„ÇØ„Ç¢„Éó„É™„Çí‰Ωú„Çä‰∏ä„Åí„Åæ„Åôüí™„ÄÇÊâÄ„ÄÖNext.js„ÅÆ„Ç≥„Éº„ÉâÈÄ≤Ë°å„ÅÆ„Éù„Ç§„É≥„Éà„ÇíËß£Ë™¨„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇNext.js„ÅÆÂÖ•ÈñÄÊõ∏„Å®„Åó„Å¶„ÇÇ„Åä‰Ωø„ÅÑÈ†Ç„Åë„ÇãÂÜÖÂÆπ„Å´„Å™„Å£„Å¶„Åä„Çä„Åæ„ÅôüòÉ"><meta property="og:url" content="https://astro-paper.pages.dev/posts/nextjs-openai-amotion-app/"><meta property="og:image" content="https://astro-paper.pages.dev/posts/nextjs%E3%81%A8openai%E3%81%A7%E6%84%9F%E6%83%85%E5%88%86%E6%9E%90%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E3%82%8B.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://astro-paper.pages.dev/posts/nextjs-openai-amotion-app/"><meta property="twitter:title" content="Next.js„Å®OpenAI„ÅßÊÑüÊÉÖÂàÜÊûê„Ç¢„Éó„É™„Çí‰Ωú„Çã"><meta property="twitter:description" content="Next.js13„Å®OpenAI„ÅßÊÑüÊÉÖÂàÜÊûê„Çí„Åó„Å¶„Åè„Çå„ÇãAI„Ç¢„Éó„É™„ÅÆ‰Ωú„ÇäÊñπ„ÇíËß£Ë™¨„Åó„Åæ„Åô„ÄÇ„É¶„Éº„Ç∂„ÉºË™çË®ºÊ©üËÉΩ„Çí‰Ωú„Çä„ÄÅ„É¶„Éº„Ç∂„ÉºID„ÅßÊÑüÊÉÖÂàÜÊûê„Éá„Éº„Çø„ÇíÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ„Éá„Éº„Çø„ÅØPrisma„ÇíÁµåÁî±„Åó„ÄÅSupabase„Å´‰øùÂ≠ò„Åó„Åæ„Åô„ÄÇÊú¨Êõ∏„Åß„ÅØ„Éï„É´„Çπ„Çø„ÉÉ„ÇØ„Ç¢„Éó„É™„Çí‰Ωú„Çä‰∏ä„Åí„Åæ„Åôüí™„ÄÇÊâÄ„ÄÖNext.js„ÅÆ„Ç≥„Éº„ÉâÈÄ≤Ë°å„ÅÆ„Éù„Ç§„É≥„Éà„ÇíËß£Ë™¨„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇNext.js„ÅÆÂÖ•ÈñÄÊõ∏„Å®„Åó„Å¶„ÇÇ„Åä‰Ωø„ÅÑÈ†Ç„Åë„ÇãÂÜÖÂÆπ„Å´„Å™„Å£„Å¶„Åä„Çä„Åæ„ÅôüòÉ"><meta property="twitter:image" content="https://astro-paper.pages.dev/posts/nextjs%E3%81%A8openai%E3%81%A7%E6%84%9F%E6%83%85%E5%88%86%E6%9E%90%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E3%82%8B.png"><!-- Google Font --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&display=swap" rel="stylesheet"><meta name="theme-color" content=""><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><!-- google „Ç¢„Éâ„Çª„É≥„Çπ„ÄÄË®≠ÂÆö --><!-- Â∫ÉÂëä --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5112185578414045" crossorigin="anonymous"></script><!-- Â∫ÉÂëäÊêçÁõä„ÅÆÂõûÂèéÁî≥Âëä --><script async src="https://fundingchoicesmessages.google.com/i/pub-5112185578414045?ers=1" nonce="HMJQo9KJ2O48OU1iQYuTKQ"></script><script nonce="HMJQo9KJ2O48OU1iQYuTKQ">
      (function () {
        function signalGooglefcPresent() {
          if (!window.frames["googlefcPresent"]) {
            if (document.body) {
              const iframe = document.createElement("iframe");
              iframe.style =
                "width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;";
              iframe.style.display = "none";
              iframe.name = "googlefcPresent";
              document.body.appendChild(iframe);
            } else {
              setTimeout(signalGooglefcPresent, 0);
            }
          }
        }
        signalGooglefcPresent();
      })();
    </script><script src="/toggle-theme.js"></script><link rel="stylesheet" href="/_astro/index.555ecc1a.css" />
<style>.breadcrumb:where(.astro-ilhxcym7){margin-left:auto;margin-right:auto;margin-bottom:.25rem;margin-top:2rem;width:100%;max-width:48rem;padding-left:1rem;padding-right:1rem}.breadcrumb:where(.astro-ilhxcym7) ul:where(.astro-ilhxcym7) li:where(.astro-ilhxcym7){display:inline}.breadcrumb:where(.astro-ilhxcym7) ul:where(.astro-ilhxcym7) li:where(.astro-ilhxcym7) a:where(.astro-ilhxcym7){text-transform:capitalize;opacity:.7}.breadcrumb:where(.astro-ilhxcym7) ul:where(.astro-ilhxcym7) li:where(.astro-ilhxcym7) span:where(.astro-ilhxcym7){opacity:.7}.breadcrumb:where(.astro-ilhxcym7) ul:where(.astro-ilhxcym7) li:where(.astro-ilhxcym7):not(:last-child) a:where(.astro-ilhxcym7):hover{opacity:1}#main-content:where(.astro-hsp6otuf){margin-left:auto;margin-right:auto;width:100%;max-width:48rem;padding-left:1rem;padding-right:1rem;padding-bottom:3rem}#main-content:where(.astro-hsp6otuf) h1:where(.astro-hsp6otuf){font-size:1.5rem;line-height:2rem;font-weight:600}@media (min-width: 640px){#main-content:where(.astro-hsp6otuf) h1:where(.astro-hsp6otuf){font-size:1.875rem;line-height:2.25rem}}#main-content:where(.astro-hsp6otuf) p:where(.astro-hsp6otuf){margin-bottom:1.5rem;margin-top:.5rem;font-style:italic}
a:where(.astro-blwjyjpt){position:relative;text-decoration-line:underline;text-decoration-style:dashed}a:where(.astro-blwjyjpt):hover{top:-.125rem;--tw-text-opacity: 1;color:rgba(var(--color-accent),var(--tw-text-opacity))}a:where(.astro-blwjyjpt):focus-visible{padding:.25rem}a:where(.astro-blwjyjpt) svg:where(.astro-blwjyjpt){margin-right:-1.25rem;height:1.5rem;width:1.5rem;--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-text-opacity: 1;color:rgba(var(--color-text-base),var(--tw-text-opacity));opacity:.8}.group:where(.astro-blwjyjpt):hover a:where(.astro-blwjyjpt) svg:where(.astro-blwjyjpt){fill:rgb(var(--color-accent))}
a:where(.astro-5eunqzkt):hover{--tw-text-opacity: 1;color:rgba(var(--color-accent),var(--tw-text-opacity))}
@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
.social-icons:where(.astro-upu6fzxr){flex-wrap:wrap;justify-content:center;gap:.25rem}.link-button:where(.astro-upu6fzxr){padding:.5rem}.link-button:where(.astro-upu6fzxr):hover{--tw-rotate: 6deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@media (min-width: 640px){.link-button:where(.astro-upu6fzxr){padding:.25rem}}footer:where(.astro-sz7xmlte){margin-bottom:2rem;width:100%}.footer-wrapper:where(.astro-sz7xmlte){display:flex;flex-direction:column;align-items:center;justify-content:space-around;padding-top:1.5rem;padding-bottom:1.5rem}@media (min-width: 640px){.footer-wrapper:where(.astro-sz7xmlte){flex-direction:row-reverse;padding-top:1rem;padding-bottom:1rem}}.link-button:where(.astro-sz7xmlte){margin-top:.25rem;margin-bottom:.25rem;padding:.5rem}.link-button:where(.astro-sz7xmlte):hover{--tw-rotate: 6deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.link-button:where(.astro-sz7xmlte) svg:where(.astro-sz7xmlte){--tw-scale-x: 1.25;--tw-scale-y: 1.25;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.copyright-wrapper:where(.astro-sz7xmlte){margin-top:.5rem;margin-bottom:.5rem;display:flex;flex-direction:column;align-items:center;white-space:nowrap}@media (min-width: 640px){.copyright-wrapper:where(.astro-sz7xmlte){flex-direction:row}}.separator:where(.astro-sz7xmlte){display:none}@media (min-width: 640px){.separator:where(.astro-sz7xmlte){display:inline}}
main:where(.astro-vj4tpspi){margin-left:auto;margin-right:auto;width:100%;max-width:48rem;padding-left:1rem;padding-right:1rem;padding-bottom:3rem}.post-title:where(.astro-vj4tpspi){font-size:1.5rem;line-height:2rem;font-weight:600;--tw-text-opacity: 1;color:rgba(var(--color-accent),var(--tw-text-opacity))}.tags-container:where(.astro-vj4tpspi){margin-top:2rem;margin-bottom:2rem}
.pagination-wrapper:where(.astro-eenky23y){margin-bottom:2rem;margin-top:auto;display:flex;justify-content:center}.disabled:where(.astro-eenky23y){pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.5}.disabled:where(.astro-eenky23y):hover{--tw-text-opacity: 1;color:rgba(var(--color-text-base),var(--tw-text-opacity))}.group:where(.astro-eenky23y):hover .disabled:where(.astro-eenky23y){fill:rgb(var(--color-text-base))}.group:where(.astro-eenky23y):hover .disabled-svg:where(.astro-eenky23y){fill:rgb(var(--color-text-base))!important}
</style><script type="module" src="/_astro/hoisted.064b2101.js"></script><style>[data-astro-transition-scope="astro-plk3gbjq-1"] { view-transition-name: nextjs_openai; }@layer astro { ::view-transition-old(nextjs_openai) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(nextjs_openai) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(nextjs_openai) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(nextjs_openai) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-2"] { view-transition-name: nextjs; }@layer astro { ::view-transition-old(nextjs) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(nextjs) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(nextjs) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(nextjs) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-3"] { view-transition-name: openai; }@layer astro { ::view-transition-old(openai) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(openai) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(openai) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(openai) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-4"] { view-transition-name: prisma; }@layer astro { ::view-transition-old(prisma) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(prisma) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(prisma) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(prisma) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-4"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-4"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-4"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-4"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-5"] { view-transition-name: supabase; }@layer astro { ::view-transition-old(supabase) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(supabase) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(supabase) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(supabase) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-5"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-5"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-5"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-5"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-6"] { view-transition-name: clerk; }@layer astro { ::view-transition-old(clerk) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(clerk) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(clerk) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(clerk) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-6"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-6"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-6"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-6"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head><body><header class="astro-3ef6ksr2"><a id="skip-to-content" href="#main-content" class="astro-3ef6ksr2">Skip to content</a><div class="nav-container astro-3ef6ksr2"><div class="top-nav-wrap astro-3ef6ksr2"><a href="/" class="logo whitespace-nowrap astro-3ef6ksr2">„Ç´„Éó„Ç≥„Éº„Éâ</a><nav id="nav-menu" class="astro-3ef6ksr2"><button class="hamburger-menu focus-outline astro-3ef6ksr2" aria-label="Open Menu" aria-expanded="false" aria-controls="menu-items"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="menu-icon astro-3ef6ksr2"><line x1="7" y1="12" x2="21" y2="12" class="line astro-3ef6ksr2"></line><line x1="3" y1="6" x2="21" y2="6" class="line astro-3ef6ksr2"></line><line x1="12" y1="18" x2="21" y2="18" class="line astro-3ef6ksr2"></line><line x1="18" y1="6" x2="6" y2="18" class="close astro-3ef6ksr2"></line><line x1="6" y1="6" x2="18" y2="18" class="close astro-3ef6ksr2"></line></svg></button><ul id="menu-items" class="display-none sm:flex astro-3ef6ksr2"><li class="astro-3ef6ksr2"><a href="/posts" class=" astro-3ef6ksr2">
Ë®ò‰∫ã‰∏ÄË¶ß
</a></li><li class="astro-3ef6ksr2"><a href="/tags" class=" astro-3ef6ksr2">
„Çø„Ç∞
</a></li><li class="astro-3ef6ksr2"><a href="/about" class=" astro-3ef6ksr2">
„É°„É≥„Çø„Éº
</a></li><li class="astro-3ef6ksr2"><a href="/craft" class=" astro-3ef6ksr2">
Âà∂‰Ωú
</a></li><li class="astro-3ef6ksr2"><a href="/search" tabindex="0" class="group inline-block focus-outline p-3 sm:p-1  flex astro-3ef6ksr2 astro-5eunqzkt" aria-label="search" title="Search"><svg xmlns="http://www.w3.org/2000/svg" class="scale-125 sm:scale-100 astro-3ef6ksr2"><path d="M19.023 16.977a35.13 35.13 0 0 1-1.367-1.384c-.372-.378-.596-.653-.596-.653l-2.8-1.337A6.962 6.962 0 0 0 16 9c0-3.859-3.14-7-7-7S2 5.141 2 9s3.14 7 7 7c1.763 0 3.37-.66 4.603-1.739l1.337 2.8s.275.224.653.596c.387.363.896.854 1.384 1.367l1.358 1.392.604.646 2.121-2.121-.646-.604c-.379-.372-.885-.866-1.391-1.36zM9 14c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z" class="astro-3ef6ksr2"></path></svg></a></li><li class="astro-3ef6ksr2"><button id="theme-btn" class="focus-outline astro-3ef6ksr2" title="Toggles light & dark" aria-label="auto" aria-live="polite"><svg xmlns="http://www.w3.org/2000/svg" id="moon-svg" class="astro-3ef6ksr2"><path d="M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z" class="astro-3ef6ksr2"></path></svg><svg xmlns="http://www.w3.org/2000/svg" id="sun-svg" class="astro-3ef6ksr2"><path d="M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM4.219 18.363l2.12-2.122 1.415 1.414-2.12 2.122zM16.24 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.342 7.759 4.22 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z" class="astro-3ef6ksr2"></path></svg></button></li></ul></nav></div></div><div class="max-w-3xl mx-auto px-4"><hr class="border-skin-line" aria-hidden="true"></div></header><div class="mx-auto flex w-full max-w-3xl justify-start px-2 astro-vj4tpspi"><button class="focus-outline mb-2 mt-8 flex hover:opacity-75 astro-vj4tpspi" onclick="
      history.back()
      "><svg xmlns="http://www.w3.org/2000/svg" class="astro-vj4tpspi"><path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z" class="astro-vj4tpspi"></path></svg><span class="astro-vj4tpspi">Go back</span></button></div><main id="main-content" class="astro-vj4tpspi"><h1 class="post-title astro-vj4tpspi" data-astro-transition-scope="astro-plk3gbjq-1">Next.js„Å®OpenAI„ÅßÊÑüÊÉÖÂàÜÊûê„Ç¢„Éó„É™„Çí‰Ωú„Çã</h1><div class="flex items-center space-x-2 opacity-80 my-2 astro-vj4tpspi"><svg xmlns="http://www.w3.org/2000/svg" class="scale-100 inline-block h-6 w-6 fill-skin-base" aria-hidden="true"><path d="M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z"></path><path d="M5 22h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM19 8l.001 12H5V8h14z"></path></svg><span class="sr-only">Posted on:</span><span class="italic text-base">2023Âπ¥10Êúà1Êó•<span aria-hidden="true"> | </span><span class="sr-only">¬†at¬†</span>00:22</span></div><article id="article" role="article" class="prose mx-auto mt-8 max-w-3xl astro-vj4tpspi"><p>*Ë£úË∂≥:
„Éª„ÉÜ„Ç≠„Çπ„ÉàÂÖ•Âäõ„Éï„Ç©„Éº„É†„Å´Lexical(metaÈñãÁô∫„ÅÆ„É™„ÉÉ„ÉÅ„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø)„Çí‰Ωø„ÅÑ„Åæ„Åô„ÅåÊú¨Êõ∏„ÅÆË∂£Êó®„Å®„ÅØÁï∞„Å™„Çã„ÅÆ„ÅßLexical„ÅÆËß£Ë™¨„ÅØÊ∑±„Åè„Åó„Å¶„Åä„Çä„Åæ„Åõ„Çì„ÄÇÔºàË¶ÅÊúõ„Åå„ÅÇ„Çå„Å∞ËøΩË®ò„ÅÑ„Åü„Åó„Åæ„ÅôÔºâ
„ÉªOpenAI API„Ç≠„Éº„ÅÆÂèñÂæó„Å´„ÅØ„ÇØ„É¨„Ç∏„ÉÉ„ÉàÁôªÈå≤„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ(Âàù„ÇÅ„ÅÆ3„É∂Êúà„ÅØ$18„Åæ„ÅßAPI„ÅÆÂà©Áî®„ÅåÁÑ°Êñô„Åß„Åß„Åç„Åæ„Åô)</p>
<h2 id="table-of-contents">Table of contents</h2>
<p></p><details><summary>Open Table of contents</summary><p></p>
<ul>
<li><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB">„ÅØ„Åò„ÇÅ„Å´</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8%E6%8A%80%E8%A1%93">‰ΩøÁî®ÊäÄË°ì</a></li>
<li><a href="#%E9%96%8B%E7%99%BA%E5%86%85%E5%AE%B9">ÈñãÁô∫ÂÜÖÂÆπ</a></li>
<li><a href="#%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99">‰∫ãÂâçÊ∫ñÂÇô</a></li>
<li><a href="#%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA">„É™„Éù„Ç∏„Éà„É™</a></li>
<li><a href="#%E8%B3%AA%E5%95%8F%E3%81%AA%E3%81%A9%E3%81%8A%E5%BE%85%E3%81%A1%E3%81%97%E3%81%A6%E3%81%BE%E3%81%99">Ë≥™Âïè„Å™„Å©„ÅäÂæÖ„Å°„Åó„Å¶„Åæ„Åô</a></li>
</ul>
</li>
<li><a href="#nextjs%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90">Next.js„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê</a>
<ul>
<li><a href="#clerk%E3%81%AE%E3%82%A2%E3%83%97%E3%83%AA%E8%A8%AD%E5%AE%9A">clerk„ÅÆ„Ç¢„Éó„É™Ë®≠ÂÆö</a></li>
<li><a href="#clerk%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">clerk„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´</a></li>
</ul>
</li>
<li><a href="#clerk%E3%81%A7%E8%AA%8D%E8%A8%BC%E6%A9%9F%E8%83%BD%E3%82%92%E5%AE%9F%E8%A3%85">clerk„ÅßË™çË®ºÊ©üËÉΩ„ÇíÂÆüË£Ö</a>
<ul>
<li><a href="#%E8%AA%8D%E8%A8%BC%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E4%BD%9C%E6%88%90">Ë™çË®º„Éá„Ç£„É¨„ÇØ„Éà„É™„ÅÆ‰ΩúÊàê</a></li>
<li><a href="#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90">„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Çí‰ΩúÊàê</a></li>
<li><a href="#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%82%92%E4%BD%9C%E6%88%90">„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰ΩúÊàê</a></li>
<li><a href="#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%82%92%E4%BD%9C%E6%88%90-1">„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰ΩúÊàê</a></li>
<li><a href="#%E3%83%9A%E3%83%BC%E3%82%B8%E9%81%B7%E7%A7%BB%E7%94%A8%E3%81%AEsite%E3%81%AB%E3%83%8A%E3%83%93%E3%82%B2%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%90%E3%83%BC%E3%82%92%E4%BD%9C%E3%82%8B">„Éö„Éº„Ç∏ÈÅ∑ÁßªÁî®„ÅÆ(site)„Å´„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„Éº„Çí‰Ωú„Çã</a>
<ul>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E8%A7%A3%E8%AA%AC">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</a></li>
<li><a href="#%E3%83%8A%E3%83%93%E3%82%B2%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%90%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%95%E3%81%9B%E3%82%8B">„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„Éº„ÇíË°®Á§∫„Åï„Åõ„Çã</a></li>
</ul>
</li>
<li><a href="#%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">„Éë„ÉÉ„Ç±„Éº„Ç∏„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´</a></li>
<li><a href="#%E3%83%8E%E3%83%BC%E3%83%88%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AB%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%95%E3%81%9B%E3%82%8B">„Éé„Éº„Éà„Éö„Éº„Ç∏„Å´„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÇíË°®Á§∫„Åï„Åõ„Çã</a>
<ul>
<li><a href="#%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%82%92%E8%BF%BD%E5%8A%A0">„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÅÆ„Çπ„Çø„Ç§„É´„ÇíËøΩÂä†</a></li>
<li><a href="#%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%83%9B%E3%82%B9%E3%83%88%E3%82%92%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%81%A6%E7%A2%BA%E8%AA%8D%E3%81%97%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%82%87%E3%81%86">„É≠„Éº„Ç´„É´„Éõ„Çπ„Éà„ÇíÁ´ã„Å°‰∏ä„Åí„Å¶Á¢∫Ë™ç„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ</a></li>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E8%A7%A3%E8%AA%AC-1">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</a></li>
<li><a href="#genaratebutton%E3%82%92%E4%BD%9C%E3%82%8A%E3%81%BE%E3%81%99">GenarateButton„Çí‰Ωú„Çä„Åæ„Åô</a></li>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E8%A7%A3%E8%AA%AC">„Ç≥„Éº„Éâ„ÇíËß£Ë™¨</a></li>
<li><a href="#supabase%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97">Supabase„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó</a></li>
<li><a href="#prisma%E3%81%AE%E3%82%B9%E3%82%AD%E3%83%BC%E3%83%9E%E3%82%92%E4%BD%9C%E6%88%90">Prisma„ÅÆ„Çπ„Ç≠„Éº„Éû„Çí‰ΩúÊàê</a></li>
</ul>
</li>
<li><a href="#prisma%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9">Prisma„ÅÆ„Éá„Éº„Çø„Éô„Éº„Çπ„Å´„Ç¢„ÇØ„Çª„Çπ</a>
<ul>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E8%A7%A3%E8%AA%AC-2">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</a></li>
</ul>
</li>
<li><a href="#api%E4%BD%9C%E6%88%90">API‰ΩúÊàê</a>
<ul>
<li><a href="#%E5%85%A8%E3%81%A6%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%96%E5%BE%97">ÂÖ®„Å¶„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó</a>
<ul>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E8%A7%A3%E8%AA%AC-3">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</a></li>
</ul>
</li>
<li><a href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E4%BD%9C%E6%88%90">„Éá„Éº„Çø„ÅÆ‰ΩúÊàê</a>
<ul>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E8%A7%A3%E8%AA%AC-4">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</a></li>
</ul>
</li>
<li><a href="#%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AEapi%E3%82%92%E4%BD%9C%E6%88%90">ÁâπÂÆö„ÅÆ„Éá„Éº„Çø„ÅÆAPI„Çí‰ΩúÊàê</a>
<ul>
<li><a href="#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%82%92%E8%BF%BD%E5%8A%A0">„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíËøΩÂä†</a></li>
<li><a href="#%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9Fid%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%96%E5%BE%97">ÊåáÂÆö„Åó„Åüid„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó</a></li>
</ul>
</li>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E8%A7%A3%E8%AA%AC-5">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</a>
<ul>
<li><a href="#%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9Fid%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%9B%B4%E6%96%B0">ÊåáÂÆö„Åó„Åüid„ÅÆ„Éá„Éº„Çø„ÇíÊõ¥Êñ∞</a></li>
</ul>
</li>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E8%A7%A3%E8%AA%AC-6">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</a></li>
<li><a href="#%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9Fid%E3%81%AE%E5%89%8A%E9%99%A4">ÊåáÂÆö„Åó„ÅüId„ÅÆÂâäÈô§</a></li>
<li><a href="#%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9Fid%E3%81%AE%E6%84%9F%E6%83%85%E5%88%86%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E6%9B%B4%E6%96%B0">ÊåáÂÆö„Åó„ÅüId„ÅÆÊÑüÊÉÖÂàÜÊûêÁµêÊûú„ÅÆÊõ¥Êñ∞</a>
<ul>
<li><a href="#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E8%BF%BD%E5%8A%A0">„Éá„Ç£„É¨„ÇØ„Éà„É™„ÅÆËøΩÂä†</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E6%8A%95%E7%A8%BF%E3%83%9C%E3%82%BF%E3%83%B3%E4%BD%9C%E6%88%90">ÊäïÁ®ø„Éú„Çø„É≥‰ΩúÊàê</a>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#api%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%83%95%E3%82%A7%E3%83%83%E3%83%81%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">api„Éá„Éº„Çø„Çí„Éï„Çß„ÉÉ„ÉÅ„Åô„Çã„Åü„ÇÅ„ÅÆ„Éë„ÉÉ„Ç±„Éº„Ç∏„Çí„Ç§„É≥„Çπ„Éà„Éº„É´</a></li>
<li><a href="#%E7%8A%B6%E6%85%8B%E7%AE%A1%E7%90%86%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">Áä∂ÊÖãÁÆ°ÁêÜ„Éë„ÉÉ„Ç±„Éº„Ç∏„Çí„Ç§„É≥„Çπ„Éà„Éº„É´</a></li>
<li><a href="#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E4%BD%9C%E6%88%90">„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà‰ΩúÊàê</a></li>
<li><a href="#%E5%85%A8%E3%81%A6%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%96%E5%BE%97-1">ÂÖ®„Å¶„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó</a></li>
</ul>
</li>
<li><a href="#post%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90">Post„Éú„Çø„É≥„Çí‰ΩúÊàê</a></li>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E8%A7%A3%E8%AA%AC-1">„Ç≥„Éº„Éâ„ÇíËß£Ë™¨</a></li>
</ul>
</li>
<li><a href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%83%95%E3%82%A7%E3%83%83%E3%83%81">„Éá„Éº„Çø„Éï„Çß„ÉÉ„ÉÅ</a>
<ul>
<li><a href="#%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AB%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%BE%E3%81%99">„Çµ„Ç§„Éà„Å´ËøΩÂä†„Åó„Åæ„Åô„ÄÇ</a></li>
</ul>
</li>
<li><a href="#%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88id%E3%82%92%E7%AE%A1%E7%90%86%E3%81%99%E3%82%8B%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%95%E3%83%83%E3%82%AF">„ÉÜ„Ç≠„Çπ„Éàid„ÇíÁÆ°ÁêÜ„Åô„Çã„Ç´„Çπ„Çø„É†„Éï„ÉÉ„ÇØ</a></li>
<li><a href="#%E8%A1%A8%E7%A4%BA%E3%82%92%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%E3%82%8B%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%95%E3%83%83%E3%82%AF">Ë°®Á§∫„ÇíÂàá„ÇäÊõø„Åà„Çã„Ç´„Çπ„Çø„É†„Éï„ÉÉ„ÇØ</a></li>
<li><a href="#%E3%83%8E%E3%83%BC%E3%83%88%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E8%A1%A8%E7%A4%BA%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF">„Éé„Éº„Éà„Éö„Éº„Ç∏„ÅÆË°®Á§∫„É≠„Ç∏„ÉÉ„ÇØ</a>
<ul>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E8%A7%A3%E8%AA%AC-2">„Ç≥„Éº„Éâ„ÇíËß£Ë™¨</a></li>
<li><a href="#text%E3%81%AE%E4%B8%80%E7%95%AA%E5%88%9D%E3%82%81%E3%81%AE%E8%A1%8C%E3%81%AE%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%A0%E3%81%91%E3%82%92%E5%8F%96%E5%BE%97">text„ÅÆ‰∏ÄÁï™Âàù„ÇÅ„ÅÆË°å„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Å†„Åë„ÇíÂèñÂæó</a></li>
<li><a href="#processdata%E3%81%AF%E5%8F%96%E5%BE%97%E3%81%97%E3%81%9F%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AEtext%E3%81%AE%E4%B8%80%E7%95%AA%E5%88%9D%E3%82%81%E3%81%AE%E8%A1%8C%E3%81%AE%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%A8json%E5%BD%A2%E5%BC%8F%E3%81%AE%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%8C%E4%B8%80%E8%87%B4%E3%81%99%E3%82%8B%E3%81%8B%E6%A4%9C%E8%A8%BC%E3%81%99%E3%82%8B">processData()„ÅØÂèñÂæó„Åó„Åü„ÉÜ„Ç≠„Çπ„Éà„Éá„Éº„Çø„ÅÆtext„ÅÆ‰∏ÄÁï™Âàù„ÇÅ„ÅÆË°å„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Å®JSONÂΩ¢Âºè„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Åå‰∏ÄËá¥„Åô„Çã„ÅãÊ§úË®º„Åô„Çã</a></li>
<li><a href="#%E5%AE%9F%E9%9A%9B%E3%81%AB%E7%94%BB%E9%9D%A2%E3%81%AE%E8%A1%A8%E7%A4%BA">ÂÆüÈöõ„Å´ÁîªÈù¢„ÅÆË°®Á§∫</a></li>
</ul>
</li>
<li><a href="#%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E3%81%8C%E7%94%BB%E9%9D%A2%E3%81%AB%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E3%82%B9%E3%83%86%E3%83%BC%E3%83%88%E3%82%92%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%E3%82%8B">„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÅåÁîªÈù¢„Å´Ë°®Á§∫„Åó„Å¶„ÅÑ„Çã„Çπ„ÉÜ„Éº„Éà„ÇíÂàá„ÇäÊõø„Åà„Çã</a></li>
<li><a href="#%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AB%E8%BF%BD%E5%8A%A0">„Éö„Éº„Ç∏„Å´ËøΩÂä†</a></li>
<li><a href="#%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D">Âãï‰ΩúÁ¢∫Ë™ç</a>
<ul>
<li><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E8%A7%A3%E8%AA%AC-7">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#api%E3%82%92%E5%8F%A9%E3%81%84%E3%81%A6%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E6%9B%B4%E6%96%B0%E3%81%A8%E5%89%8A%E9%99%A4%E3%81%AE%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E4%BD%9C%E3%82%8A%E3%81%BE%E3%81%99">API„ÇíÂè©„ÅÑ„Å¶„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞„Å®ÂâäÈô§„ÅÆ„Éú„Çø„É≥„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ</a></li>
<li><a href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E6%9B%B4%E6%96%B0">„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞</a></li>
<li><a href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E5%89%8A%E9%99%A4">„Éá„Éº„Çø„ÅÆÂâäÈô§</a></li>
<li><a href="#emotion%E3%82%92%E6%9B%B4%E6%96%B0">Emotion„ÇíÊõ¥Êñ∞</a></li>
</ul>
<p></p></details><p></p>
<h2 id="„ÅØ„Åò„ÇÅ„Å´">„ÅØ„Åò„ÇÅ„Å´</h2>
<p>„Åì„ÅÆÊú¨„ÅØNext.js„Å®OpenAI„Çí‰Ωø„ÅÑ„ÄÅ„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„Å´ÊñáÂ≠ó„ÇíÂÖ•Âäõ„Åô„Çã„Å®AI„ÅåÂÖ•Âäõ„Éá„Éº„Çø„Å´Âü∫„Å•„ÅÑ„Å¶ÊÑüÊÉÖÂàÜÊûê„Çí„Åó„Å¶„Åè„Çå„Çã„Ç¢„Éó„É™„Åß„Åô„ÄÇ
ÊÑüÊÉÖÂàÜÊûêÁµêÊûú„Çísupabase„Å´‰øùÂ≠ò„Åô„Çã„Å®„Åì„Çç„Åæ„Åß„ÇíÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ</p>
<p>„Å™„Åä„ÄÅAI„ÅÆ„É≠„Ç∏„ÉÉ„ÇØ„ÇíÊ∑±„ÅèË™¨Êòé„Åó„Å¶„Çã„ÇÇ„ÅÆ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇNext.js„Å´„Å©„ÅÜ„ÇÑ„Å£„Å¶AI„ÇíÁµÑ„ÅøËæº„ÇÄ„Åã„Å®Ë®Ä„ÅÜAI„Çµ„Éº„Éì„ÇπÈñãÁô∫„ÅÆÂÖ•ÈñÄ„Å´„Å™„Çä„Åæ„Åô„ÄÇË™≠ËÄÖÊßòËá™Ë∫´„ÅÆ„Ç¢„Ç§„Éá„Ç¢„ÅÆÂΩ¢„Å´„Åô„ÇãÊâãÂä©„Åë„Çí„Åô„Çã„Åü„ÇÅ„ÅÆÊú¨„Åß„Åô„ÄÇ</p>
<h3 id="‰ΩøÁî®ÊäÄË°ì">‰ΩøÁî®ÊäÄË°ì</h3>
<p>„Åì„ÅÆÊú¨„Åß„ÅØ‰ª•‰∏ã„ÅÆÊäÄË°ì„ÇíÂèñ„ÇäÊâ±„ÅÑ„Åæ„Åô„ÄÇ</p>
<ul>
<li>Next.js(Typescript)</li>
<li>Prisma(„Éá„Éº„Çø„É¢„Éá„É´‰ΩúÊàê)</li>
<li>supabaseÔºà„Éá„Éº„ÇøÁΩÆ„ÅçÂ†¥)</li>
<li>clerk(„É¶„Éº„Ç∂„ÉºË™çË®ºÊ©üËÉΩ)</li>
</ul>
<p>Next.js„Åß„ÅØApp router„Çí‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ</p>
<h3 id="ÈñãÁô∫ÂÜÖÂÆπ">ÈñãÁô∫ÂÜÖÂÆπ</h3>
<p>ÈñãÁô∫ÂÜÖÂÆπ„ÅØ‰ª•‰∏ã„ÅÆ„Å®„Åä„Çä„Åß„Åô„ÄÇ</p>
<ul>
<li>Prisma„Åß„Éá„Éº„Çø„É¢„Éá„É´„ÅÆ‰ΩúÊàêÊñπÊ≥ï</li>
<li>Clerk„Åß„É¶„Éº„Ç∂„ÉºË™çË®ºÊ©üËÉΩÂÆüË£ÖÊñπÊ≥ï</li>
<li>OpenAIAPI„ÅÆ‰Ωø„ÅÑÊñπ</li>
<li>„ÉÜ„Ç≠„Çπ„Éà„Éá„Éº„Çø„ÅÆÂàÜÊûêÊñπÊ≥ï</li>
<li>supabase„Å∏„Éá„Éº„Çø„ÅÆÊ†ºÁ¥çÊñπÊ≥ï</li>
</ul>
<h3 id="‰∫ãÂâçÊ∫ñÂÇô">‰∫ãÂâçÊ∫ñÂÇô</h3>
<p>„Åä‰Ωø„ÅÑ„ÅÆ„Éá„Éê„Ç§„Çπ„Å´‰ª•‰∏ã„Çí„Ç§„Çπ„Éà„Éº„É´„Åó„Å¶„Åä„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ</p>
<ul>
<li>node</li>
<li>npm(„ÇÇ„Åó„Åè„ÅØyarn)</li>
<li>„Ç≥„Éº„Éâ„Ç®„Éá„Ç£„Çø</li>
</ul>
<h3 id="„É™„Éù„Ç∏„Éà„É™">„É™„Éù„Ç∏„Éà„É™</h3>
<p>ÂÆåÊàê„ÅÆ„Ç≥„Éº„Éâ„ÅØ„Åì„Å°„Çâ„Åß„Åô„ÄÇ
<a href="https://github.com/ryotarofr/Emotional-analysis-apps">https://github.com/ryotarofr/Emotional-analysis-apps</a>
<br>
„Éá„É¢„Çµ„Ç§„Éà
<a href="https://emotional-analysis-apps.vercel.app/">https://emotional-analysis-apps.vercel.app/</a></p>
<h3 id="Ë≥™Âïè„Å™„Å©„ÅäÂæÖ„Å°„Åó„Å¶„Åæ„Åô">Ë≥™Âïè„Å™„Å©„ÅäÂæÖ„Å°„Åó„Å¶„Åæ„Åô</h3>
<p>„Åì„Åì„Åå„Çè„Åã„Çä„Å´„Åè„ÅÑ„Å®„ÅãË¨é„ÅÆ„Ç®„É©„Éº„ÅåÂá∫„Åü„Å®„Åã„ÅÇ„Çä„Åæ„Åó„Åü„ÇâË≥™Âïè„Åó„Å¶„ÅÑ„Åü„Å†„Åë„Çå„Å∞ÈöèÊôÇÂØæÂøú„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÅÆ„Åß„Å©„Çì„Å©„ÇìË≥™Âïè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„Åæ„Åõ„ÄÇ</p>
<h2 id="nextjs„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê">Next.js„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê</h2>
<p>‰ªäÂõû„ÅØNext.js„ÅÆÊúÄÊñ∞Áâà„Çí‰Ωø„ÅÜ„ÅÆ„Åß‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™„Ç≥„Éû„É≥„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">npx</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">create-next-app@latest</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">./</span></span></code></pre>
<p>ÂàùÊúüË®≠ÂÆö„Å´„Å§„ÅÑ„Å¶ËÅû„Åã„Çå„Åæ„Åô„Åå„Éá„Éï„Ç©„É´„Éà„ÅßÂ§ß‰∏àÂ§´‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Ë®≠ÂÆö„Åó„Åæ„Åô</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #abb2bf">Ok to proceed? (y) y</span></span>
<span class="line"><span style="color: #abb2bf">‚úî What is your project named? ‚Ä¶ ./</span></span>
<span class="line"><span style="color: #abb2bf">‚úî Would you like to use TypeScript? ‚Ä¶ Yes</span></span>
<span class="line"><span style="color: #abb2bf">‚úî Would you like to use ESLint? ‚Ä¶ Yes</span></span>
<span class="line"><span style="color: #abb2bf">‚úî Would you like to use Tailwind CSS? ‚Ä¶ Yes</span></span>
<span class="line"><span style="color: #abb2bf">‚úî Would you like to use `src/` directory? ‚Ä¶ Yes</span></span>
<span class="line"><span style="color: #abb2bf">‚úî Would you like to use App Router? (recommended) ‚Ä¶ Yes</span></span>
<span class="line"><span style="color: #abb2bf">‚úî Would you like to customize the default import alias? ‚Ä¶ No</span></span>
<span class="line"><span style="color: #abb2bf">...</span></span>
<span class="line"><span style="color: #abb2bf">Success!</span></span></code></pre>
<p>Success!„Å®Ë°®Á§∫„Åï„Çå„Çå„Å∞ÂÆå‰∫Ü„Åß„Åô„ÄÇ</p>
<p>ÂàùÊúüË®≠ÂÆö„ÅåÁµÇ„Çè„Å£„Åü„Çâ„Éñ„É©„Ç¶„Ç∂„Åß„ÇíÁ´ã„Å°‰∏ä„Åí„Åæ„Åô„ÄÇ
‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶<a href="http://localhost:3000/%E3%82%92%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84">http://localhost:3000/„ÇíÁ´ã„Å°‰∏ä„Åí„Å¶„Åè„Å†„Åï„ÅÑ</a></p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #abb2bf">npm run dev</span></span></code></pre>
<p><img src="https://storage.googleapis.com/zenn-user-upload/8bbdd0ee5c05-20230927.png" alt="">
„Åì„ÅÆ„Çà„ÅÜ„Å™ÁîªÈù¢„ÅåË°®Á§∫„Åï„Çå„Çå„Å∞„Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóÂÆå‰∫Ü„Åß„Åô„ÄÇ
„Åì„Çå„ÅßÊúÄÂàù„ÅÆÊ∫ñÂÇô„ÅØÊï¥„ÅÑ„Åæ„Åó„Åü„ÄÇ„ÅÜ„Åæ„ÅèÂãï„Åã„Å™„ÅÑÂ†¥Âêà„ÅØÁí∞Â¢ÉË®≠ÂÆö„Åå„ÅÜ„Åæ„Åè„ÅÑ„Å£„Å¶„ÅÑ„Å™„ÅÑÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÅÆ„Åß„ÄÅ„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„Å™„Å©„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
<p>„Åì„ÅÆ„Çª„ÇØ„Ç∑„Éß„É≥„ÅØÈ£õ„Å∞„Åó„Å¶Ë™≠„ÅøÈÄ≤„ÇÅ„Çã„Åì„Å®„ÇÇÂèØËÉΩ„Åß„Åô„ÄÇ„É¶„Éº„Ç∂„ÉºË™çË®º„ÅÑ„Çâ„Å™„ÅÑ„Çà„Å£„Å¶Êñπ„ÅØ‰ª•Èôç„ÅÆ„Çª„ÇØ„Ç∑„Éß„É≥„Å∏„ÄÇ
clerk„Çí‰Ωø„Åà„Å∞„Å®„Å¶„ÇÇÁ∞°Âçò„Å´„É¶„Éº„Ç∂„ÉºË™çË®ºÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ
<a href="https://clerk.com/docs">clerkÂÖ¨Âºè„Çµ„Ç§„Éà</a></p>
<br>
<br>
<h3 id="clerk„ÅÆ„Ç¢„Éó„É™Ë®≠ÂÆö">clerk„ÅÆ„Ç¢„Éó„É™Ë®≠ÂÆö</h3>
<p>ÂÖ¨Âºè„ÅÆ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Å´„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
Add application„ÇíÊäº„Åô„Å®‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™ÁîªÈù¢„Å´ÈÅ∑Áßª„Åó„Åæ„Åô„ÄÇ
„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Éç„Éº„É†„Çí‰Ωø„ÅÜË™çË®º„Éó„É≠„Éê„Ç§„ÉÄ„ÅÆË®≠ÂÆö„Çí„Åó„Å¶create application„ÇíÊäº„Åó„Åæ„Åô„ÄÇ
‰ªäÂõû„ÅØEmail addres„Å®Google„Éó„É≠„Éê„Ç§„ÉÄ„Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/596b563cdf8e-20230927.png" alt=""></p>
<p>„É´„Éº„Éà„Éá„Ç£„É¨„ÇØ„Éà„É™„Å´.env.local„Çí‰ΩúÊàê„ÅóAPI„Ç≠„Éº„ÇíË≤º„Çä‰ªò„Åë„Åæ„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/5e675fa6dc82-20230927.png" alt=""></p>
<h3 id="clerk„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´">clerk„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´</h3>
<p>„Çø„Éº„Éü„Éä„É´„Å´‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„ÇíÊâì„Å°Ëæº„Åø„Åæ„Åô</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #abb2bf">npm i @clerk/nextjs</span></span></code></pre>
<h2 id="clerk„ÅßË™çË®ºÊ©üËÉΩ„ÇíÂÆüË£Ö">clerk„ÅßË™çË®ºÊ©üËÉΩ„ÇíÂÆüË£Ö</h2>
<p>„ÅÇ„Åæ„ÇäÊú¨Ë≥™ÁöÑ„Å™ÈÉ®ÂàÜ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÅÆ„Åß„Åµ„Éº„Çì„Å£„Å¶ÊÄù„Å£„Å¶„ÇÇ„Çâ„Åà„Çå„Å∞Â§ß‰∏àÂ§´„Åß„Åô„ÄÇ„Ç≥„Éî„Éö„ÅßÊßã„ÅÑ„Åæ„Åõ„Çì„ÄÇ
„Åæ„Åö„ÅØ„ÄÅ„Ç¢„Éó„É™ÂÖ®‰Ωì„Å´„É¶„Éº„Ç∂„ÉºË™çË®º„ÇíÈÅ©Âøú„Åï„Åõ„Åæ„Åô„ÄÇ
ClerkProvider„Åß„Çø„Ç∞„Çí„É©„ÉÉ„Éó„Åó„Åæ„Åô„ÄÇ
app/layout.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">ClerkProvider</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">'@clerk/nextjs'</span></span>
<span class="line"><span style="color: #ABB2BF">...</span></span>
<span class="line"><span style="color: #ABB2BF">...</span></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">RootLayout</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75; font-style: italic">children</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">}: {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">React</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">ReactNode</span></span>
<span class="line"><span style="color: #ABB2BF">}) {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E5C07B">ClerkProvider</span><span style="color: #ABB2BF">> //ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">lang</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"en"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E5C07B">inter</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">className</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">{</span><span style="color: #E06C75">children</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E5C07B">ClerkProvider</span><span style="color: #ABB2BF">>„ÄÄ </span><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="Ë™çË®º„Éá„Ç£„É¨„ÇØ„Éà„É™„ÅÆ‰ΩúÊàê">Ë™çË®º„Éá„Ç£„É¨„ÇØ„Éà„É™„ÅÆ‰ΩúÊàê</h3>
<p>„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å´Ë™çË®º„Éö„Éº„Ç∏„Çí‰ΩúÊàê„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
src/app„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´Ê¨°„ÅÆ„Éï„Ç©„É´„ÉÄ„Å®„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ
<img src="https://storage.googleapis.com/zenn-user-upload/c4fd8bac720a-20230927.png" alt=""></p>
<p>Next.js13„ÅÆApp router„Åß„ÅØlayout.tsx„ÇÑloading.tsxÊôÇ„Åæ„Å£„Åü„Éö„Éº„Ç∏Âêç„ÅåÁî®ÊÑè„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ
layout.tsx„ÅØÂÖ±ÈÄö„Åô„Çã„Çπ„Çø„Ç§„É´„ÇÑ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÇíÁÆ°ÁêÜ„Åß„Åç„Åæ„Åô„ÄÇ
(auth)„ÅÆ„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰Ωú„Çã„Åì„Å®„Åß(auth)„Éö„Éº„Ç∏„Å†„Åë„ÅÆlayout.tsx„Çí‰Ωú„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ
(auth)/layout.tsx„Å®„Åô„Çã„Åì„Å®„Åß„É¶„Éº„Ç∂„ÉºË™çË®ºÁîªÈù¢„ÅÆÂÖ±ÈÄö„Éó„É≠„Éë„ÉÜ„Ç£„ÇíË¶™„ÅÆapp/layout.tsx„ÇíÂàÜ„Åë„Å¶Ê±∫„ÇÅ„Çã„Åì„Å®„Åå„Åß„ÅçÊµÅ„ÅÆ„Åß„Çà„ÇäÊüîËªü„Å´ÈñãÁô∫„Åå„Åß„Åç„Åæ„Åô„ÄÇ</p>
<p>app/(auth)/layout.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">AuthLayout</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> ({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">children</span></span>
<span class="line"><span style="color: #ABB2BF">}: {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">React</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">ReactNode</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">main</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"min-h-screen flex items-center justify-center"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">{</span><span style="color: #E06C75">children</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">main</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  );</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">AuthLayout</span><span style="color: #ABB2BF">;</span></span></code></pre>
<p>„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÇíÁÆ°ÁêÜ„Åô„Çã„Éï„Ç©„É´„ÉÄ„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ
‰ª•‰∏ã„ÅÆ„Éï„Ç©„É´„ÉÄ„Å®„Éï„Ç°„Ç§„É´„Çí‰Ωú„Å£„Å¶„Åè„Å†„Åï„ÅÑ
<strong>app/components/ui</strong>
‰ªäÂõû„ÅØui„Å®„ÅÑ„ÅÜ„Éï„Ç©„É´„ÉÄ„Åß„Éú„Çø„É≥„Å™„Å©„ÅÆui„ÇíÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ
„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„Å´„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÇíË°®Á§∫„Åô„Çãui„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ
empty.png„ÅØÊ∑ª‰ªò„Åó„Åügithub„ÅÆpublic„Éï„Ç©„É´„ÉÄ„Å´„ÅÇ„ÇÇ„ÅÆ„Çí‰Ωø„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
<p>components/ui/empty.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Image</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"next/image"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">interface</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">EmptyProps</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">label</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">string</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">Empty</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> ({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">label</span></span>
<span class="line"><span style="color: #ABB2BF">}: </span><span style="color: #E5C07B">EmptyProps</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"h-full p-20 flex flex-col items-center justify-center"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"relative h-72 w-72"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;</span><span style="color: #E5C07B">Image</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">src</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"/empty.png"</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">fill</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">alt</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"Empty"</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E06C75">p</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"text-muted-foreground text-sm text-center"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">{</span><span style="color: #E06C75">label</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;/</span><span style="color: #E06C75">p</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  );</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span></code></pre>
<p>„Ç®„É©„Éº„Éö„Éº„Ç∏„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ
:::message
„Éù„Ç§„É≥„Éà
empty.tsx„Å´props„ÇíÊåÅ„Åü„Åõ„Å¶„ÅÑ„Åæ„Åô
label=‚ÄúSomething went wrong.‚Äù
„Åì„ÅÆ„Çà„ÅÜ„Å´„Åô„Çã„Åì„Å®„Åß„Ç®„É©„Éº„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏ÂÜÖÂÆπ„Çí„Çí„Éö„Éº„Ç∏„Åî„Å®„Å´Â§âÊõ¥„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô
:::
‚Äúuse client‚Äù„Å®Ë°®Ë®ò„Åô„Çã„ÅÆ„ÅØNext.js13„ÅÆapp router„Åß„ÅØ<strong>„Éá„Éï„Ç©„É´„Éà„Åß„Çµ„Éº„Éê„Éº„Çµ„Ç§„Éâ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà</strong>„Å´„Å™„Å£„Å¶„ÅÑ„Çã„ÅÆ„Åß„Äå<strong>„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Çµ„Ç§„Éâ„ÅÆ„Ç≥„Éº„Éâ„Åß„Åô„Çà</strong>„Äç„Å®Next.js„Å´Êïô„Åà„Å¶„ÅÇ„Åí„Çã„Åü„ÇÅ„Åß„Åô„ÄÇ
„ÄÄ„Ç®„É©„Éº„ÅØ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Çµ„Ç§„Éâ„ÅßË°®Á§∫„Åï„Åõ„Çã„ÅÆ„Åß„Åì„ÅÆ„Çà„ÅÜ„Å™Ë®òËø∞„ÅåÂøÖË¶Å„Å´„Å™„Çã„Çè„Åë„Åß„Åô„ÄÇ
app/(auth)/error.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">"use client"</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">Empty</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"../components/ui/empty"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">Error</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E5C07B">Empty</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">label</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"Something went wrong."</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">  );</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Error</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span></code></pre>
<p>„Çµ„Ç§„É≥„Ç§„É≥„Éª„Çµ„Ç§„É≥„Ç¢„ÉÉ„Éó„ÅÆ„Éö„Éº„Ç∏„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ
„Åì„Çå„ÇÇÁ∞°Âçò„Å™„Ç≥„Éº„Éâ„Åß„Åô„ÄÇ
(auth)/sign-in/[[‚Ä¶sign-in]]/page.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">SignIn</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@clerk/nextjs"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">Page</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> &#x3C;</span><span style="color: #E5C07B">SignIn</span><span style="color: #ABB2BF"> />;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<p>(auth)/sign-up/[[‚Ä¶sign-up]]/page.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">SignUp</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@clerk/nextjs"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">Page</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> &#x3C;</span><span style="color: #E5C07B">SignUp</span><span style="color: #ABB2BF"> />;</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span></code></pre>
<p>„Ç≥„Éº„Éâ„ÅåÊõ∏„Åë„Åü„Çâ„ÄÄ<a href="http://localhost:3000/">http://localhost:3000/</a>„ÄÄ„Åå‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™Ë°®Á§∫„Å´„Å™„Çä„Åæ„Åô„ÄÇ</p>
<p><img src="https://storage.googleapis.com/zenn-user-upload/8f4ccd7a99c2-20230927.png" alt=""></p>
<p>„Åó„Åã„Åó„ÄÅ„Éö„Éº„Ç∏„Å´ÂÖ•„Å£„Åü„Çâ„Åô„Åê„Å´„É≠„Ç∞„Ç§„É≥„Åó„Å£„Å¶„Å¶„ÅÆ„ÅØ„Ç¢„Éó„É™„Å®„Åó„Å¶„ÅØÂ§â„Åß„Åô„Çà„Å≠„ÄÇ
„Åù„Åì„Åß„ÄÅpublicRoutes„Å®„ÅÑ„ÅÜ„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Å™„Åè„Å¶„ÇÇ„Åø„Çå„Åæ„Åô„Çà„Å£„Å¶Ë®òËø∞„Çí„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„Çí‰Ωú„Çä„Ç≥„Éº„Éâ„ÇíÊõ∏„Åç„Åæ„Åô„ÄÇ
src/middleware.ts</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">authMiddleware</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@clerk/nextjs"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">authMiddleware</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">publicRoutes</span><span style="color: #ABB2BF">: [</span><span style="color: #98C379">"/"</span><span style="color: #ABB2BF">],</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span></code></pre>
<p>„Åì„Çå„Åß <a href="http://localhost:3000/">http://localhost:3000/</a> „ÅÆ„Éö„Éº„Ç∏„ÅßË™çË®º„Éö„Éº„Ç∏„Å´ÈÅ∑Áßª„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ</p>
<p>„Çø„Éº„Éü„Éä„É´„ÇíË¶ã„Çã„Å®</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">Clerk:</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">The</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">middleware</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">was</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">skipped</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">for</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">this</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">request</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">URL:</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">http://localhost:3000/_next/static/chunks/app/page.js.</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">For</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">performance</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">reasons,</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">it's recommended to your middleware matcher to:</span></span>
<span class="line"><span style="color: #98C379">export const config = {</span></span>
<span class="line"><span style="color: #98C379">  matcher: ["/((?!.+\\.[\\w]+$|_next).*)","/","/(api|trpc)(.*)"],</span></span>
<span class="line"><span style="color: #98C379">};</span></span></code></pre>
<p>„Åì„ÅÆ„Çà„ÅÜ„Å™Ë°®Ë®ò„Åï„Çå„Å¶„ÅÑ„Çã„ÅÆ„Åß„Éü„Éâ„É´„Ç¶„Çß„Ç¢„Å´ËøΩË®ò„Åó„Åæ„Åô„ÄÇ
„Åì„Çå„ÅØNext.js„ÅÆ„Éï„Ç°„Ç§„É´„É´„Éº„ÉÜ„Ç£„É≥„Ç∞„Çí„ÅÑ„ÅÑÊÑü„Åò„Å´„Åó„Å¶„Åè„Çå„Çã„Åä„Åæ„Åò„Å™„ÅÑ„Å†„Å®„ÅÑ„ÅÜË™çË≠ò„ÅßÂ§ß‰∏àÂ§´„Åß„Åô„ÄÇ
src/middleware.ts</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">authMiddleware</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@clerk/nextjs"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">authMiddleware</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">publicRoutes</span><span style="color: #ABB2BF">: [</span><span style="color: #98C379">"/"</span><span style="color: #ABB2BF">],</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">config</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">matcher</span><span style="color: #ABB2BF">: [</span><span style="color: #98C379">"/((?!.*</span><span style="color: #56B6C2">\\</span><span style="color: #98C379">..*|_next).*)"</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">"/"</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">"/(api|trpc)(.*)"</span><span style="color: #ABB2BF">],</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span></code></pre>
<p>„Åù„Åó„Å¶„ÄÅ„Çµ„Ç§„É≥„Ç§„É≥„Éª„Çµ„Ç§„É≥„Ç¢„ÉÉ„Éó„ÅåÂÆå‰∫Ü„Åó„Åü„Çâ„Å©„Åì„ÅÆ„Éö„Éº„Ç∏„Å´ÈÅ∑Áßª„Åô„Çã„Åã„ÇÇÊ±∫„ÇÅ„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ
.env.local„Å´‰ª•‰∏ã„ÅÆË®òËø∞„Çí„Åó„Å¶„Åè„Å†„Åï„ÅÑ
‰ªäÂõû„ÅØ/note„Å®„ÅÑ„ÅÜ„Éö„Éº„Ç∏„Å´ÈÅ∑Áßª„Åô„Çã„Åì„Å®„Å´„Åó„Åæ„Åô„ÄÇ
.env.local</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #abb2bf">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #abb2bf">NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in</span></span>
<span class="line"><span style="color: #abb2bf">NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up</span></span>
<span class="line"><span style="color: #abb2bf">NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/note</span></span>
<span class="line"><span style="color: #abb2bf">NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/note</span></span></code></pre>
<h3 id="„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Çí‰ΩúÊàê">„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Çí‰ΩúÊàê</h3>
<p>Navbar„Å´Ë™çË®º„Éú„Çø„É≥„ÇíÂÖ•„Çå„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
components/Navbar/landing-navbar.tsx
„Å®„ÅÑ„ÅÜ„Éï„Ç°„Ç§„É´„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ
„Åù„Åì„Å´clerk„Åã„Çâ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÂëº„Å≥Âá∫„Åó„Åæ„Åô„ÄÇ
/landing-navbar.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">"use client"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Link</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"next/link"</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useAuth</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@clerk/nextjs"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">LandingNavbar</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">isSignedIn</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useAuth</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">nav</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;</span><span style="color: #E5C07B">Link</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #D19A66; font-style: italic">href</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">isSignedIn</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"/note"</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">:</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"/sign-up"</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">        ></span></span>
<span class="line"><span style="color: #ABB2BF">          „É≠„Ç∞„Ç§„É≥</span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;/</span><span style="color: #E5C07B">Link</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">nav</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p>Tailwindcss„ÅßÂ∞ë„Åó„Çπ„Çø„Ç§„É´„ÇíÂΩì„Å¶„Åæ„Åô„ÄÇ
/landing-navbar.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">"use client"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Image</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"next/image"</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Link</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"next/link"</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useAuth</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@clerk/nextjs"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">LandingNavbar</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">isSignedIn</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useAuth</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">nav</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"mx-4 py-8 bg-transparent flex items-center justify-between</span></span>
<span class="line"><span style="color: #98C379">      md:mx-20</span></span>
<span class="line"><span style="color: #98C379">    "</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex items-center gap-x-2"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;</span><span style="color: #E5C07B">Link</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #D19A66; font-style: italic">href</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">isSignedIn</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"/note"</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">:</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"/sign-up"</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"no-underline text-white bg-indigo-900 px-4 py-2 rounded-full hover:bg-indigo-800"</span></span>
<span class="line"><span style="color: #ABB2BF">        ></span></span>
<span class="line"><span style="color: #ABB2BF">          „É≠„Ç∞„Ç§„É≥</span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;/</span><span style="color: #E5C07B">Link</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">nav</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<p>‰Ωú„Å£„Åü„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô
src/app/page.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #7F848E; font-style: italic">//...</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">LandingNavbar</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">'./components/Navbar/landing-navbar'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">Home</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">main</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex min-h-screen flex-col items-center justify-between p-24"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E5C07B">LandingNavbar</span><span style="color: #ABB2BF"> /> //ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">     // ...ÁúÅÁï•</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">main</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p>„É≠„Ç∞„Ç§„É≥„Éú„Çø„É≥„ÅåË°®Á§∫„Åï„Çå„Å¶„ÅÑ„Çã„Åã„É≠„Éº„Ç´„É´„Éõ„Çπ„Éà„ÇíÁ´ã„Å°‰∏ä„Åí„Å¶Á¢∫Ë™ç„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ
ÂÆüÈöõ„Å´„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Åø„Çã„Å®/note„Å´„Éö„Éº„Ç∏ÈÅ∑Áßª„Åó„Åæ„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/c64d3984e42e-20230928.png" alt=""></p>
<p>„Åì„Çå„ÅßË™çË®ºÊ©üËÉΩ„ÅØÂá∫Êù•‰∏ä„Åå„Çä„Åß„Åô„ÄÇ</p>
<br>
<br>
Note„Éö„Éº„Ç∏„Åß„ÅØ„ÉÜ„Ç≠„Çπ„Éà„Éï„Ç©„Éº„É†„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ
<h3 id="„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰ΩúÊàê">„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰ΩúÊàê</h3>
<p>‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ
app/(site)/layout.tsx
app/(site)/(routes)/note/page.tsx
(auth)„ÅÆÊôÇ„Å®Âêå„Åò„Çà„ÅÜ„Å´„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰Ωú„Çä„Åæ„Åó„Åô„ÄÇ
(site)„Å®„ÅÑ„ÅÜÂêçÂâç„Å´„Åó„Åæ„Åó„Åü„Åå„ÄÅ„Å™„Çì„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÄÇ
(routes)„Éï„Ç©„É´„ÉÄ„ÅØÂÄã‰∫∫ÁöÑ„Å´„Éá„Ç£„É¨„ÇØ„Éà„É™„Åå2„Å§‰ª•‰∏ä„Å´„Å™„ÇãÂ†¥Âêà„ÅØ„ÅÇ„Å£„Åü„Åª„ÅÜ„Åå„ÅÑ„ÅÑ„Åã„Å™„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/c5a447251b8b-20230928.png" alt=""></p>
<p>„Éö„Éº„Ç∏„ÅÆÁ∑®ÈõÜ„Çí„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
(site)/layout.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">SiteLayout</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> ({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">}: {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">React</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">ReactNode</span></span>
<span class="line"><span style="color: #ABB2BF">}) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">{</span><span style="color: #E06C75">children</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">SiteLayout</span></span></code></pre>
<p>(site)/(routes)/note/page.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">NotePage</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #C678DD">return</span><span style="color: #ABB2BF">(&#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">	&#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">>note&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">&#x3C;/>)</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<p>Ë¶ãÊ†Ñ„Åà„ÅåÊÇ™„ÅÑ„ÅÆ„Åßglobal.css„Çí‰øÆÊ≠£„Åó„Åæ„Åô„ÄÇ
app/global.css</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">@tailwind</span><span style="color: #ABB2BF"> base;</span></span>
<span class="line"><span style="color: #C678DD">@tailwind</span><span style="color: #ABB2BF"> components;</span></span>
<span class="line"><span style="color: #C678DD">@tailwind</span><span style="color: #ABB2BF"> utilities;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/* „Ç≥„É°„É≥„Éà„Ç¢„Ç¶„Éà */</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/* :root {</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">  --foreground-rgb: 0, 0, 0;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">  --background-start-rgb: 214, 219, 220;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">  --background-end-rgb: 255, 255, 255;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">} */</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">@media</span><span style="color: #ABB2BF"> (prefers-color-scheme: dark) {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #56B6C2">:root</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">--foreground-rgb</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">255</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">255</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">255</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">--background-start-rgb</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">--background-end-rgb</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E06C75">body</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  color: </span><span style="color: #56B6C2">rgb</span><span style="color: #ABB2BF">(</span><span style="color: #56B6C2">var</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">--foreground-rgb</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">  background: </span><span style="color: #56B6C2">linear-gradient</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">      to </span><span style="color: #D19A66">bottom</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #D19A66">transparent</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #56B6C2">rgb</span><span style="color: #ABB2BF">(</span><span style="color: #56B6C2">var</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">--background-end-rgb</span><span style="color: #ABB2BF">))</span></span>
<span class="line"><span style="color: #ABB2BF">    )</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #56B6C2">rgb</span><span style="color: #ABB2BF">(</span><span style="color: #56B6C2">var</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">--background-start-rgb</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<br>
<br>
<p>„ÉÅ„É£„Éº„Éà„Éö„Éº„Ç∏„Åß„ÅØ„ÄÅÊÑüÊÉÖÂàÜÊûê„ÅÆÁµêÊûú„Çí„Ç∞„É©„Éï„Å´ÊèèÁîª„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ</p>
<h3 id="„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰ΩúÊàê-1">„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰ΩúÊàê</h3>
<p>note„Å®Âêå„Åò„Çà„ÅÜ„Å´„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ
app/(site)/(routes)/chart/page.tsx</p>
<p>„Éö„Éº„Ç∏„ÅÆÁ∑®ÈõÜ„Çí„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
(site)/(routes)/chart/page.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">ChartPage</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">>„ÉÅ„É£„Éº„Éà„Éö„Éº„Ç∏&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">ChartPage</span></span></code></pre>
<h3 id="„Éö„Éº„Ç∏ÈÅ∑ÁßªÁî®„ÅÆsite„Å´„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„Éº„Çí‰Ωú„Çã">„Éö„Éº„Ç∏ÈÅ∑ÁßªÁî®„ÅÆ(site)„Å´„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„Éº„Çí‰Ωú„Çã</h3>
<p>ÂÖà„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰Ωø„ÅÜ„ÅÆ„Åß„Éë„ÉÉ„Ç±„Éº„Ç∏„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Åæ„Åô„ÄÇ
„Çø„Éº„Éü„Éä„É´</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">npm</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">i</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">react-icons</span></span></code></pre>
<p>ÂÖà„Åª„Å©‰Ωú„Å£„Åücomponents/Navbar„Å´„ÄÄ<strong>site-navbar.tsx</strong>„ÄÄ„ÅÆ„Éï„Ç°„Ç§„É´„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ
„Åù„Çå„Åß„ÅØ„Ç≥„Éº„Éâ„ÇíÊõ∏„ÅÑ„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
components/Navbarsite-navbar.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">"use client"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">usePathname</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"next/navigation"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Link</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"next/link"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Image</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"next/image"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">UserButton</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@clerk/nextjs"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">AiOutlineBarChart</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"react-icons/ai"</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">GiNotebook</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"react-icons/gi"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">navItems</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span></span>
<span class="line"><span style="color: #ABB2BF">  {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">path</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"/note"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">name</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Note"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">icon</span><span style="color: #ABB2BF">: &#x3C;</span><span style="color: #E5C07B">GiNotebook</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">size</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #D19A66">24</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">  {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">path</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"/chart"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">name</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Chart"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">icon</span><span style="color: #ABB2BF">: &#x3C;</span><span style="color: #E5C07B">AiOutlineBarChart</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">size</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #D19A66">24</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">NavBar</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">let</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">pathname</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">usePathname</span><span style="color: #ABB2BF">() </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"/"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">" p-[0.4rem] rounded-lg mb-12 sticky top-4 z-[100]"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex gap-2 relative justify-around items-center w-full z-[100]  rounded-lg"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"hidden sm:block"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">          &#x3C;</span><span style="color: #E5C07B">Link</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">href</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"/"</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex items-center no-underline text-zinc-900"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">            &#x3C;</span><span style="color: #E5C07B">Image</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">width</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #D19A66">36</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">height</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #D19A66">36</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">alt</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"Logo"</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">src</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"/logo.png"</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">            &#x3C;</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"text-2xl"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">              My-App</span></span>
<span class="line"><span style="color: #ABB2BF">            &#x3C;/</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">          &#x3C;/</span><span style="color: #E5C07B">Link</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #C678DD">{</span><span style="color: #E5C07B">navItems</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">index</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">isActive</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">path</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">pathname</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;</span><span style="color: #E5C07B">Link</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">key</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">path</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #98C379">`px-4 py-2 rounded-md text-sm lg:text-base hover:bg-slate-200 relative no-underline duration-300 ease-in </span><span style="color: #C678DD">${</span><span style="color: #E06C75">isActive</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"text-zinc-400"</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">:</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"text-zinc-900"</span></span>
<span class="line"><span style="color: #ABB2BF">                  </span><span style="color: #C678DD">}</span><span style="color: #98C379">`</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">href</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">path</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">              ></span></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex items-center"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">                  &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">""</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">icon</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">                  &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"hidden sm:block"</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">name</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;/</span><span style="color: #E5C07B">Link</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">            );</span></span>
<span class="line"><span style="color: #ABB2BF">          })</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;</span><span style="color: #E5C07B">UserButton</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">afterSignOutUrl</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"/"</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  );</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<h4 id="„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</h4>
<p><strong>usePathname</strong>„ÅØ<strong>„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Çµ„Ç§„Éâ</strong>„ÅÆhooks„Åß„Åô„ÄÇ„Å™„ÅÆ„Åß‚Äùuse client‚Äù„Çí„Å§„Åë„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
usePathname„ÅØÊñáÂ≠óÂàó„ÇíËøî„Åó„Åæ„Åô„Åå„ÄÅ‰ª•‰∏ã„ÅÆÂ†¥Âêà„Å´null„ÇíËøî„Åó„Åæ„Åô„ÄÇ</p>
<ul>
<li>„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„É´„Éº„Éà„Åå„É¨„É≥„ÉÄ„É™„É≥„Ç∞„Åï„Çå„Å¶„ÅÑ„Çã„Å®„Åç</li>
<li>Next.js„ÅåËá™ÂãïÁöÑ„Å´ÈùôÁöÑÊúÄÈÅ©Âåñ„Åó„Åü„Éö„Éº„Ç∏„ÅåË°®Á§∫„Åï„Çå„Å¶„ÅÑ„Çã„Å®„Åç</li>
<li>„É´„Éº„Çø„Éº„ÅåÊ∫ñÂÇô„Åß„Åç„Å¶„ÅÑ„Å™„ÅÑ„Å®„Åç
„Åì„ÅÆ„Çà„ÅÜ„Å™Â†¥Âêà„Å´„ÄÅnull„ÇíËøî„Åô„ÅÆ„Åß„ÅØ„Å™„Åè„ÄÅ„Éá„Éï„Ç©„É´„Éà„ÅÆ„Éë„ÇπÂêç„ÇíË®≠ÂÆö„Åó„Åü„ÅÑ„Å®„Åç„Å´„ÄÅ||„Å®„ÅÑ„ÅÜÊºîÁÆóÂ≠ê„Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇ||„ÅØ„ÄÅË´ñÁêÜÂíåÔºàORÔºâ„Å®Âëº„Å∞„Çå„ÇãÊºîÁÆóÂ≠ê„Åß„ÄÅÂ∑¶ÂÅ¥„ÅÆÂÄ§„ÅåÁúüÔºàtruthyÔºâ„Åß„ÅÇ„Çå„Å∞„Åù„ÅÆÂÄ§„ÇíËøî„Åó„ÄÅÂÅΩÔºàfalsyÔºâ„Åß„ÅÇ„Çå„Å∞Âè≥ÂÅ¥„ÅÆÂÄ§„ÇíËøî„Åó„Åæ„Åô„ÄÇnull„ÅØÂÅΩ„Å®„Åø„Å™„Åï„Çå„Çã„ÅÆ„Åß„ÄÅusePathname()„Åånull„ÇíËøî„Åó„Åü„Çâ„ÄÅÂè≥ÂÅ¥„ÅÆ‚Äù/‚Äú„Åå‰ª£„Çè„Çä„Å´Ëøî„Åï„Çå„Åæ„Åô„ÄÇ</li>
</ul>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">let</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">pathname</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">usePathname</span><span style="color: #ABB2BF">() </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"/"</span><span style="color: #ABB2BF">;</span></span></code></pre>
<p>navItems„Å®„ÅÑ„ÅÜÈÖçÂàó„Çímap„É°„ÇΩ„ÉÉ„Éâ„ÅßÂèçÂæ©Âá¶ÁêÜ„Åó„Å¶„ÄÅÂêÑË¶ÅÁ¥†„Å´ÂØæ„Åó„Å¶Link„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÇíËøî„Åô„ÇÇ„ÅÆ„Åß„Åô„ÄÇLink„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÅØNext.js„ÅÆ„É´„Éº„ÉÜ„Ç£„É≥„Ç∞Ê©üËÉΩ„ÇíÂà©Áî®„Åó„Å¶„ÄÅ„Éö„Éº„Ç∏Èñì„ÅÆÈÅ∑Áßª„ÇíË°å„ÅÜ„ÇÇ„ÅÆ„Åß„Åô„ÄÇ
item.path„Å®ÁèæÂú®„ÅÆ„Éë„ÇπÂêçÔºàpathnameÔºâ„Åå‰∏ÄËá¥„Åô„Çã„Åã„Å©„ÅÜ„Åã„ÇíisActive„Å®„ÅÑ„ÅÜÂ§âÊï∞„Å´‰ª£ÂÖ•„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„Çå„ÅØ„ÄÅÁèæÂú®„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Ç¢„Ç§„ÉÜ„É†„ÇíÂà§Âà•„Åô„Çã„Åü„ÇÅ„Å´‰Ωø„Çè„Çå„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF">...</span></span>
<span class="line"><span style="color: #ABB2BF">{</span><span style="color: #E5C07B">navItems</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">isActive</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">path</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">pathname</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;</span><span style="color: #E5C07B">Link</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">key</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">path</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #98C379">`px-4 py-2 rounded-md text-sm lg:text-base hover:bg-slate-200 relative no-underline duration-300 ease-in </span><span style="color: #C678DD">${</span><span style="color: #E06C75">isActive</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"text-zinc-400"</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">:</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"text-zinc-900"</span></span>
<span class="line"><span style="color: #ABB2BF">                  </span><span style="color: #C678DD">}</span><span style="color: #98C379">`</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">href</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">path</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">              ></span></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex items-center"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">                  &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">""</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">icon</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">                  &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"hidden sm:block"</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">name</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;/</span><span style="color: #E5C07B">Link</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">            );</span></span>
<span class="line"><span style="color: #ABB2BF">          })}</span></span>
<span class="line"><span style="color: #ABB2BF">...</span></span></code></pre>
<h4 id="„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„Éº„ÇíË°®Á§∫„Åï„Åõ„Çã">„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„Éº„ÇíË°®Á§∫„Åï„Åõ„Çã</h4>
<p>„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„Éº„ÅØÂÖ±ÈÄö„ÅÆ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Å™„ÅÆ„Åß(site)/layout.tsx„Å´ËøΩÂä†„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
(site)/layout.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">NavBar</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"../components/Navbar/site-navbar"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">SiteLayout</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> ({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">}: {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">React</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">ReactNode</span></span>
<span class="line"><span style="color: #ABB2BF">}) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E5C07B">NavBar</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">{</span><span style="color: #E06C75">children</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">SiteLayout</span></span></code></pre>
<p>‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Ë°®Á§∫„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ
„Éú„Çø„É≥„ÇíÊäº„Åô„Å®„Éö„Éº„Ç∏„ÅÆÈÅ∑Áßª„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/b9bed3b2db21-20230928.png" alt=""></p>
<br>
<br>
<p>‰ªäÂõûLexical„Å´„Å§„ÅÑ„Å¶Ê∑±„ÅèËß£Ë™¨„Åó„Åæ„Åõ„Çì„ÄÇ
„ÅäÊâãÊï∞„Åß„Åô„Åå„ÄÅapp/components„Å´github„ÅÆ„Ç≥„Éº„Éâ„Çí„Ç≥„Éî„Éö„Åó„Å¶„Åä‰Ωø„ÅÑ„Åè„Å†„Åï„ÅÑm(_ _)m
<a href="https://github.com/ryotarofr/lexacal-example">Lexical„Ç®„Éá„Ç£„Çø</a>
‚Üì„Åì„Åì„Å´„Ç≥„Éî„Éö
app/components/Editor/‚Ä¶
<img src="https://storage.googleapis.com/zenn-user-upload/eb7acaf386ee-20230928.png" alt=""></p>
<h3 id="„Éë„ÉÉ„Ç±„Éº„Ç∏„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´">„Éë„ÉÉ„Ç±„Éº„Ç∏„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´</h3>
<p>„Åæ„Åö„ÅØ‰ª•‰∏ã„ÅÆ„Éë„ÉÉ„Ç±„Éº„Ç∏„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Å¶„Åè„Å†„Åï„ÅÑ
„Çø„Éº„Éü„Éä„É´
lexical„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅØ0.11.0„Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇ
„É™„ÉÉ„ÉÅ„Ç®„Éá„Ç£„Çø„ÉÑ„Éº„É´</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">npm</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">install</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">@lexical/list@0.11.0</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">@lexical/react@0.11.0</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">lexical@0.11.0</span></span></code></pre>
<p>Âá¶ÁêÜÁµêÊûú„ÅÆÈÄöÁü•„ÇíÁîªÈù¢„Å´Ë°®Á§∫„Åô„Çã„É¢„Ç∏„É•„Éº„É´</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">npm</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">i</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">react-hot-toast</span></span></code></pre>
<h3 id="„Éé„Éº„Éà„Éö„Éº„Ç∏„Å´„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÇíË°®Á§∫„Åï„Åõ„Çã">„Éé„Éº„Éà„Éö„Éº„Ç∏„Å´„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÇíË°®Á§∫„Åï„Åõ„Çã</h3>
<p>„Ç®„Éá„Ç£„Çø„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇíËøΩÂä†„Åó„Å¶„Åè„Å†„Åï„ÅÑ
(site)/(routes)/note/page.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">Editor</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/components/Editor/text-editor"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">NotePage</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E5C07B">Editor</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">NotePage</span></span></code></pre>
<h4 id="„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÅÆ„Çπ„Çø„Ç§„É´„ÇíËøΩÂä†">„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÅÆ„Çπ„Çø„Ç§„É´„ÇíËøΩÂä†</h4>
<p>„Åì„Å°„Çâ„ÇÇ„Ç≥„Éî„Éö„Åß„Åä‰Ωø„ÅÑ„Åè„Å†„Åï„ÅÑ
<a href="https://github.com/ryotarofr/lexacal-example/blob/main/styles.css">„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÅÆ„Çπ„Çø„Ç§„É´</a>
‰ª•‰∏ã„ÅÆÂ†¥ÊâÄ„Å´„Éï„Ç°„Ç§„É´„ÇíËøΩÂä†
(site)/styles.css
<img src="https://storage.googleapis.com/zenn-user-upload/e0c42e199f9d-20230928.png" alt=""></p>
<p>ÊúÄÂæå„Å´layout.tsx„Å´„Çπ„Çø„Ç§„É´„ÇíÈÅ©Âøú„Åï„Åõ„Åæ„Åô„ÄÇ
(site)/layout.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"./styles.css"</span></span></code></pre>
<h4 id="„É≠„Éº„Ç´„É´„Éõ„Çπ„Éà„ÇíÁ´ã„Å°‰∏ä„Åí„Å¶Á¢∫Ë™ç„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ">„É≠„Éº„Ç´„É´„Éõ„Çπ„Éà„ÇíÁ´ã„Å°‰∏ä„Åí„Å¶Á¢∫Ë™ç„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ</h4>
<p>/note„ÅÆ„Éö„Éº„Ç∏„Å´„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÅåË°®Á§∫„Åï„Çå„Å¶„ÅÑ„Çå„Å∞OK„Åß„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/50041e402505-20230928.png" alt=""></p>
<p>„Å°„Å™„Åø„Å´„Åß„Åô„Åå„ÄÅ„É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú„ÇÇ„Éê„ÉÉ„ÉÅ„É™„Åß„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/606429b4510e-20230928.png" alt=""></p>
<br>
<br>
<p>OpenAI„ÅÆAPI„Çí‰Ωø„Å£„Å¶ÊÑüÊÉÖÂàÜÊûê„Çí„Åô„Çã„Ç≥„Éº„Éâ„ÇíÊõ∏„ÅÑ„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
„ÅØ„Åò„ÇÅ„Å´OpenAI„ÅÆAPI„Ç≠„Éº„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ(API„Ç≠„Éº„ÅÆÂèñÂæó„Å´„ÅØ„ÇØ„É¨„Ç∏„ÉÉ„ÉàÁôªÈå≤„ÅåÂøÖË¶Å„Åß„Åô„ÄÇÊúÄÂàù„ÅÆ3„É∂Êúà„ÅØ$18„Åæ„ÅßÁÑ°Êñô„Åß„Åô„ÄÇÔºâ
‰ª•‰∏ã„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„Éö„Éº„Ç∏„Åã„Çâ
View API Keys >> Create new secret key
„ÅßAPI„Ç≠„Éº„ÇíÁô∫Ë°å„Åß„Åç„Åæ„Åô„ÄÇ
<a href="https://platform.openai.com/docs/introduction">OpenAI „Éâ„Ç≠„É•„É°„É≥„Éà</a>
<img src="https://storage.googleapis.com/zenn-user-upload/817d9fce5cb7-20230928.png" alt=""></p>
<p>„Åù„Çå„Åß„ÅØ„ÄÅtext-editor.tsx„Å´„Ç≥„Éº„Éâ„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #7F848E; font-style: italic">//...</span></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">Editor</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> [</span><span style="color: #E5C07B">generateData</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">setGenarateData</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useState</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"{}"</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">// AI„Å´„Éá„Éº„ÇøÊ∏°„Åô</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">// JSON„Å®„Åó„Å¶Ëß£Êûê</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">parsedData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">JSON</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">parse</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">generateData</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">// ÂøÖË¶Å„Å™„Éá„Éº„Çø„ÇíÊäΩÂá∫</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObjects</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [];</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">extractText</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">obj</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #7F848E; font-style: italic">// obj„Åånull„ÇÑÁ©∫„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å™„Çâreturn„Åô„Çã</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">obj</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Object</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">keys</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">obj</span><span style="color: #ABB2BF">).</span><span style="color: #E06C75">length</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">obj</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">type</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">'text'</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #E5C07B">textObjects</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">push</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">obj</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">        } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">obj</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x26;&#x26;</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">obj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">children</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">length</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">></span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #E5C07B">obj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">children</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">forEach</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">child</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">extractText</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">child</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">        }</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">// parsedData.root„Ååundefined„Åß„Å™„ÅÑ„Åì„Å®„ÇíÁ¢∫Ë™ç„Åô„Çã</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">parsedData</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">root</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">extractText</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">parsedData</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">root</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObjects</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">join</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">','</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">    </span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">exportAsJson</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">contenAsJson</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">string</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">setGenarateData</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">contenAsJson</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">contenAsJson</span></span>
<span class="line"><span style="color: #ABB2BF">    };</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//...</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;</span><span style="color: #E5C07B">LexicalComposer</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">initialConfig</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">editorConfig</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">            &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"editor-container"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;</span><span style="color: #E5C07B">ToolbarPlugin</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"editor-inner"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;</span><span style="color: #E5C07B">RichTextPlugin</span></span>
<span class="line"><span style="color: #ABB2BF">                        </span><span style="color: #D19A66; font-style: italic">contentEditable</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #ABB2BF">&#x3C;</span><span style="color: #E5C07B">ContentEditable</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"editor-input"</span><span style="color: #ABB2BF"> /></span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">                        </span><span style="color: #D19A66; font-style: italic">placeholder</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #ABB2BF">&#x3C;</span><span style="color: #E5C07B">Placeholder</span><span style="color: #ABB2BF"> /></span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">                        </span><span style="color: #D19A66; font-style: italic">ErrorBoundary</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">LexicalErrorBoundary</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">                    /></span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;</span><span style="color: #E5C07B">ListPlugin</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;</span><span style="color: #E5C07B">HistoryPlugin</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;</span><span style="color: #E5C07B">AutoFocusPlugin</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;</span><span style="color: #E5C07B">CodeHighlightPlugin</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;</span><span style="color: #E5C07B">LinkPlugin</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;</span><span style="color: #E5C07B">TabIndentationPlugin</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;</span><span style="color: #E5C07B">AutoLinkPlugin</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">		</span><span style="color: #C678DD">{</span><span style="color: #7F848E; font-style: italic">/* ËøΩÂä† */</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">		</span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;</span><span style="color: #E5C07B">ExportPluginJson</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">exportAsJSON</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">exportAsJson</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">                </span></span>
<span class="line"><span style="color: #ABB2BF">		&#x3C;</span><span style="color: #E5C07B">MarkdownShortcutPlugin</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">transformers</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E5C07B">TRANSFORMERS</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">		</span><span style="color: #C678DD">{</span><span style="color: #7F848E; font-style: italic">/* ËøΩÂä† GenarateButton„ÅØ‰∏ã„ÅÆ„Çª„ÇØ„Ç∑„Éß„É≥„Åß‰Ωú„Çä„Åæ„Åô„ÄÇ */</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex justify-end"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">                        &#x3C;</span><span style="color: #E5C07B">GenarateButton</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">textData</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">textData</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">                    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">		</span><span style="color: #C678DD">{</span><span style="color: #7F848E; font-style: italic">/* ... */</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">            &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;/</span><span style="color: #E5C07B">LexicalComposer</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    );</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h4 id="„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨-1">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</h4>
<p>Lexical„ÅßÂÖ•Âäõ„Åó„Åü„ÉÜ„Ç≠„Çπ„Éà„Éá„Éº„Çø„Çístate„Å´ÊåÅ„Åü„Åõ„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> [</span><span style="color: #E5C07B">generateData</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">setGenarateData</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useState</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"{}"</span><span style="color: #ABB2BF">)</span></span></code></pre>
<p>state„ÅØjsonÂΩ¢Âºè„ÅßÂá∫Âäõ„Åô„Çã„ÅÆ„ÅßLexical„ÅÆ„Éó„É©„Ç∞„Ç§„É≥„Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF">&#x3C;</span><span style="color: #E5C07B">ExportPluginJson</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">exportAsJSON</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">exportAsJson</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> /></span></span></code></pre>
<p>exportAsJson„Å®„ÅÑ„ÅÜÈñ¢Êï∞„Å´„ÅØÂÖà„Åª„Å©ÂÆöÁæ©„Åó„ÅüsetGenarateData„Å´„Éá„Éº„Çø„ÇíÊ∏°„Åô„Çà„ÅÜ„Å´„Åó„Åæ„Åô„ÄÇ</p>
<p>:::details ÂÖ∑‰ΩìÁöÑ„Å´„ÅØ„Åì„Çì„Å™ÊÑü„Åò„ÅÆ„Éá„Éº„Çø„ÅåÊ∏°„Åï„Çå„Åæ„Åô„ÄÇ
„Åì„Çå„ÅØ„Äå„Åì„Çì„Å´„Å°„ÅØ„Äç„Å®„ÅÑ„ÅÜ„Éá„Éº„Çø„Åß„Åô„ÄÇ
{‚Äúroot‚Äù:{‚Äúchildren‚Äù:[{‚Äúchildren‚Äù:[{‚Äúdetail‚Äù:0,‚Äúformat‚Äù:0,‚Äúmode‚Äù:‚Äúnormal‚Äù,‚Äústyle‚Äù:"",‚Äútext‚Äù:‚Äú„Åì„Çì„Å´„Å°„ÅØ‚Äù,‚Äútype‚Äù:‚Äútext‚Äù,‚Äúversion‚Äù:1}],‚Äúdirection‚Äù:‚Äúltr‚Äù,‚Äúformat‚Äù:"",‚Äúindent‚Äù:0,‚Äútype‚Äù:‚Äúparagraph‚Äù,‚Äúversion‚Äù:1}],‚Äúdirection‚Äù:‚Äúltr‚Äù,‚Äúformat‚Äù:"",‚Äúindent‚Äù:0,‚Äútype‚Äù:‚Äúroot‚Äù,‚Äúversion‚Äù:1}}
:::</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">exportAsJson</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">contenAsJson</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">string</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #61AFEF">setGenarateData</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">contenAsJson</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">contenAsJson</span></span>
<span class="line"><span style="color: #ABB2BF">   };</span></span></code></pre>
<p>Ê¨°„Å´ÂÖà„Åª„Å©„ÅÆJson„Éá„Éº„Çø„Åã„Çâ„ÉÜ„Ç≠„Çπ„Éà„Éá„Éº„Çø„ÇíÊäú„ÅçÂá∫„Åó„Åæ„Åô„ÄÇ
ÂÖà„Åª„Å©„ÅÆ‰æã„ÅßË°å„Åè„Å®„Äå„Åì„Çì„Å´„Å°„ÅØ„Äç„ÇíÊäú„ÅçÂá∫„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ</p>
<p>JSON.parse()„Åß„Åç„Çã„Éá„Éº„Çø„Å´„ÅØ‰ª•‰∏ã„ÅÆÊù°‰ª∂„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
:::details JSON.parse()„Åß„Åç„Çã„Éá„Éº„Çø„Å´„ÅØÊù°‰ª∂„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
1„ÄÄ„Ç≠„ÉºÔºöÂÄ§„ÅØ„ÉÄ„Éñ„É´„ÇØ„Ç©„Éº„ÉÜ„Éº„Ç∑„Éß„É≥„ÅßÂõ≤„ÇÄ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">'{"name": "John"}'</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">// Ê≠£„Åó„ÅÑ</span></span>
<span class="line"><span style="color: #98C379">'{"name": '</span><span style="color: #E06C75">John</span><span style="color: #98C379">'}'</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">// „Ç®„É©„Éº - „Ç∑„É≥„Ç∞„É´„ÇØ„Ç©„Éº„ÉÜ„Éº„Ç∑„Éß„É≥„ÅØË™çË≠ò„Åï„Çå„Å™„ÅÑ</span></span></code></pre>
<p>2 Êï∞ÂÄ§„ÅØ„ÉÄ„Éñ„É´„ÇØ„Ç©„Éº„ÉÜ„Éº„Ç∑„Éß„É≥„Å™„Åó</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">'{"age": 30}'</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">// Ê≠£„Åó„ÅÑ</span></span>
<span class="line"><span style="color: #98C379">'{"age": "30"}'</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">// „Ç®„É©„Éº - „ÉÄ„Éñ„É´„ÇØ„Ç©„Éº„ÉÜ„Éº„Ç∑„Éß„É≥„ÅßÂõ≤„Åæ„Çå„ÅüÊï∞ÂÄ§„ÅØÊñáÂ≠óÂàó„Å®„Åó„Å¶Êâ±„Çè„Çå„Çã</span></span></code></pre>
<p>3 ÁâπÊÆäÊñáÂ≠ó„ÇíÈÅ©Âàá„Å´„Ç®„Çπ„Ç±„Éº„Éó(„Éê„ÉÉ„ÇØ„Çπ„É©„ÉÉ„Ç∑„É•„Å®„ÉÄ„Éñ„É´„ÇØ„Ç©„Éº„ÉÜ„Éº„Ç∑„Éß„É≥„ÅØ„Åù„ÅÆ„Åæ„Åæ‰Ωø„Åà„Å™„ÅÑ„ÅÆ„Åß\„ÄÄ\„ÇíÂâç„Å´„Å§„Åë„Åæ„Åô„ÄÇ)</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">'{"text": "This is a </span><span style="color: #56B6C2">\\</span><span style="color: #98C379">"quoted</span><span style="color: #56B6C2">\\</span><span style="color: #98C379">" string."}'</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">// „Ç®„Çπ„Ç±„Éº„Éó„Åï„Çå„Åü„ÉÄ„Éñ„É´„ÇØ„Ç©„Éº„ÉÜ„Éº„Ç∑„Éß„É≥</span></span>
<span class="line"><span style="color: #98C379">'{"path": "C:</span><span style="color: #56B6C2">\\\\</span><span style="color: #98C379">Documents</span><span style="color: #56B6C2">\\\\</span><span style="color: #98C379">file.txt"}'</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">// „Éê„ÉÉ„ÇØ„Çπ„É©„ÉÉ„Ç∑„É•„ÅÆ„Ç®„Çπ„Ç±„Éº„Éó</span></span></code></pre>
<p>:::</p>
<p>„Åì„ÅÆ„Çà„ÅÜ„Å´„Åô„Çã„Å®textData„Å´„Äå„Åì„Çì„Å´„Å°„ÅØ„Äç„Å®„ÅÑ„ÅÜ„Éá„Éº„Çø„ÇíÊäΩÂá∫„Åß„Åç„Åæ„Åô„ÄÇ„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF">   </span><span style="color: #7F848E; font-style: italic">// AI„Å´„Éá„Éº„ÇøÊ∏°„Åô</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #7F848E; font-style: italic">// JSON„Å®„Åó„Å¶Ëß£Êûê</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">parsedData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">JSON</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">parse</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">generateData</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #7F848E; font-style: italic">// ÂøÖË¶Å„Å™„Éá„Éº„Çø„ÇíÊäΩÂá∫</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObjects</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">extractText</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">obj</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #7F848E; font-style: italic">// obj„Åånull„ÇÑÁ©∫„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å™„Çâreturn„Åô„Çã</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">obj</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Object</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">keys</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">obj</span><span style="color: #ABB2BF">).</span><span style="color: #E06C75">length</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">obj</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">type</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">'text'</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">           </span><span style="color: #E5C07B">textObjects</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">push</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">obj</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">       } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">obj</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x26;&#x26;</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">obj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">children</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">length</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">></span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">           </span><span style="color: #E5C07B">obj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">children</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">forEach</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">child</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">extractText</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">child</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">       }</span></span>
<span class="line"><span style="color: #ABB2BF">   }</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #7F848E; font-style: italic">// parsedData.root„Ååundefined„Åß„Å™„ÅÑ„Åì„Å®„ÇíÁ¢∫Ë™ç„Åô„Çã</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">parsedData</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">root</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #61AFEF">extractText</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">parsedData</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">root</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">   }</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObjects</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">join</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">','</span><span style="color: #ABB2BF">)</span></span></code></pre>
<p>ÊúÄÂæå„Å´textData„ÇíGenarateButton„Å´props„Å´„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF">&#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex justify-end"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">   &#x3C;</span><span style="color: #E5C07B">GenarateButton</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">textData</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">textData</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span></code></pre>
<h4 id="genaratebutton„Çí‰Ωú„Çä„Åæ„Åô">GenarateButton„Çí‰Ωú„Çä„Åæ„Åô</h4>
<p>‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„Çí‰Ωú„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
app/components/GenarateButton/index.tsx
„Åì„ÅÆ„Éï„Ç°„Ç§„É´„Åß„ÅØOpenAI„ÅÆAPI„Çí‰Ωø„Å£„Å¶ÂÖ•Âäõ„ÉÜ„Ç≠„Çπ„Éà„Åã„ÇâÊÑüÊÉÖ„ÅÆÂ±ûÊÄß„ÇíÂá∫Âäõ„Åï„Åõ„Åæ„Åô„ÄÇ
:::details ÊÑüÊÉÖ„ÅÆÁ®ÆÈ°û
negative: „Éç„Ç¨„ÉÜ„Ç£„Éñ
positive: „Éù„Ç∏„ÉÜ„Ç£„Éñ
neutral: „Å©„Å°„Çâ„Åß„ÇÇ„Å™„ÅÑ
joy: Ê•Ω„Åó„ÅÑ
trust:„ÄÄ‰ø°È†º
fear:„ÄÄÊÅê„Çå
surprise:„ÄÄÈ©ö„Åç
sadness:„ÄÄÊÇ≤„Åó„Åø
disgust:„ÄÄÈô∫ÊÇ™
anger:„ÄÄÊÄí„Çä
anticipation:„ÄÄÊúüÂæÖ
:::
„Ç≥„Éº„Éâ„ÇíÊõ∏„ÅÑ„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
app/components/GenarateButton/index.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">"use client"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useState</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"react"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">GenarateButton</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF"> </span><span style="color: #E06C75; font-style: italic">textData</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">}: {</span></span>
<span class="line"><span style="color: #ABB2BF"> </span><span style="color: #E06C75">textData</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">string</span></span>
<span class="line"><span style="color: #ABB2BF">}) {</span></span>
<span class="line"><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> [</span><span style="color: #E5C07B">isLoading</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">setIsLoading</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useState</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> [</span><span style="color: #E5C07B">generateData</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">setGenerateData</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useState</span><span style="color: #ABB2BF">&#x3C;</span><span style="color: #E5C07B">string</span><span style="color: #ABB2BF">[]>([]);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">handleSubmit</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">e</span><span style="color: #ABB2BF">: { </span><span style="color: #61AFEF">preventDefault</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">void</span><span style="color: #ABB2BF"> }) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #E5C07B">e</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">preventDefault</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">textData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">""</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #61AFEF">setIsLoading</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #7F848E; font-style: italic">// const API_KEY = process.env.OPENAI_API_KEY</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">API_KEY</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"OpenAI API Key„ÇíËøΩÂä†"</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">model</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"text-davinci-003"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">URL</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"https://api.openai.com/v1/engines/"</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">model</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"/completions"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">questions</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">`ÂâçÊèêÊù°‰ª∂Ôºö„ÅÇ„Å™„Åü„ÅØ„ÄÅ‰∏ñÁïå„Åß„ÇÇÊúâÊï∞„ÅÆÁ≤æÁ•ûÂàÜÊûêÂÆ∂„Åß„Åô„ÄÇ</span></span>
<span class="line"><span style="color: #98C379">   ÊñáÁ´†„Åã„Çâ„ÄÅËëóËÄÖ„ÅÆÂøÉÁêÜÁä∂ÊÖã„ÇíÂàÜÊûê„Åô„Çã„Åì„Å®„Å´Èï∑„Åë„Å¶„ÅÑ„Åæ„Åô„ÄÇ</span></span>
<span class="line"><span style="color: #98C379">   Ê¨°„ÅÆÊñáÁ´†„Çí„ÇÇ„Å®„Å´ÂøÉÁêÜÂàÜÊûê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span></span>
<span class="line"><span style="color: #98C379">   ÊñáÁ´†„ÅÆËøîÁ≠îÂΩ¢Âºè„ÅØ„Åù„Çå„Åû„Çå„ÅÆÊÑüÊÉÖÂ±ûÊÄß„Å´1~10„Åæ„Åß„ÅÆÁÇπÊï∞„ÅßË©ï‰æ°„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span></span>
<span class="line"><span style="color: #98C379">   {EmotionalAnalysis:[</span></span>
<span class="line"><span style="color: #98C379">     {"negative":""},</span></span>
<span class="line"><span style="color: #98C379">     {"positive":""},</span></span>
<span class="line"><span style="color: #98C379">     {"neutral":""},</span></span>
<span class="line"><span style="color: #98C379">     {"joy":""},</span></span>
<span class="line"><span style="color: #98C379">     {"trust":""},</span></span>
<span class="line"><span style="color: #98C379">     {"fear":""},</span></span>
<span class="line"><span style="color: #98C379">     {"surprise":""},</span></span>
<span class="line"><span style="color: #98C379">     {"sadness":""},</span></span>
<span class="line"><span style="color: #98C379">     {"disgust":""},</span></span>
<span class="line"><span style="color: #98C379">     {"anger":""},</span></span>
<span class="line"><span style="color: #98C379">     {"anticipation":""}</span></span>
<span class="line"><span style="color: #98C379">   ]}</span></span>
<span class="line"><span style="color: #98C379">   „ÅÆÂΩ¢Âºè„ÅßÁ≤æÁ•ûÂàÜÊûê„Çí„Åó„Åæ„Åô„ÄÇ</span></span>
<span class="line"></span>
<span class="line"><span style="color: #98C379">   ÊñáÁ´†Ôºö</span><span style="color: #C678DD">${</span><span style="color: #E06C75">textData</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #98C379">   `</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">res</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">fetch</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">URL</span><span style="color: #ABB2BF">, {</span></span>
<span class="line"><span style="color: #ABB2BF">     </span><span style="color: #E06C75">method</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"POST"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">     </span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">JSON</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">stringify</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #E06C75">prompt</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">questions</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #E06C75">max_tokens</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">200</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">     }),</span></span>
<span class="line"><span style="color: #ABB2BF">     </span><span style="color: #E06C75">headers</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #98C379">"Content-Type"</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"application/json"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #E06C75">Authorization</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">`Bearer </span><span style="color: #C678DD">${</span><span style="color: #E5C07B">API_KEY</span><span style="color: #C678DD">}</span><span style="color: #98C379">`</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">     },</span></span>
<span class="line"><span style="color: #ABB2BF">   });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">json</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">res</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">filterData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">json</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">choices</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">json</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">choices</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">value</span><span style="color: #ABB2BF">: { </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">string</span><span style="color: #ABB2BF"> }) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">     </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">str</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">`{"EmotionalAnalysis":`</span></span>
<span class="line"><span style="color: #ABB2BF">     </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">value</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">indexOf</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">str</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">     </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">value</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">substring</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">   }) </span><span style="color: #C678DD">:</span><span style="color: #ABB2BF"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #61AFEF">setGenerateData</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">filterData</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #61AFEF">setIsLoading</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF"> };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF"> </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">   &#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">       &#x3C;</span><span style="color: #E06C75">button</span></span>
<span class="line"><span style="color: #ABB2BF">         </span><span style="color: #D19A66; font-style: italic">onClick</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">handleSubmit</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">         </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"mx-4 mb-2 mt-2 text-md cursor-pointer rounded-lg border-none px-4 py-2 bg-lime-600 hover:bg-lime-700 text-white"</span></span>
<span class="line"><span style="color: #ABB2BF">       ></span></span>
<span class="line"><span style="color: #ABB2BF">         Generate</span></span>
<span class="line"><span style="color: #ABB2BF">       &#x3C;/</span><span style="color: #E06C75">button</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">       &#x3C;</span><span style="color: #E06C75">p</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">{</span><span style="color: #E06C75">isLoading</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"loading"</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">:</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">null</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">p</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">{</span><span style="color: #7F848E; font-style: italic">/* „Å®„Çä„ÅÇ„Åà„ÅöË°®Á§∫ */</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">       &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"text-2xl"</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">{</span><span style="color: #E06C75">generateData</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">   &#x3C;/ ></span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF"> )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<h4 id="„Ç≥„Éº„Éâ„ÇíËß£Ë™¨">„Ç≥„Éº„Éâ„ÇíËß£Ë™¨</h4>
<p>„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®handleSubmitÈñ¢Êï∞„ÅåÂÆüË°å„Åï„Çå„Åæ„Åô„ÄÇ
handleSubmit„ÅÆ‰∏≠„ÅßÊÑüÊÉÖÂàÜÊûê„ÇíÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ
textData„ÅåÁ©∫„ÅÆÂ†¥Âêà„ÅØ‰Ωï„ÇÇÂÆüË°å„Åó„Åæ„Åõ„Çì„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">textData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">""</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF">;</span></span></code></pre>
<p>handleSubmitÈñ¢Êï∞„Å´async„Å®„Åó„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å´„ÉÜ„Ç≠„Çπ„Éà„ÅÆÂàÜÊûê„ÅØÈùûÂêåÊúü„ÅßË°å„ÅÜ„ÅÆ„Åß
ÂàÜÊûê„ÅåÁµÇ„Çè„Çã„Åæ„Åß„ÅØ„É≠„Éº„Éá„Ç£„É≥„Ç∞„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">setIsLoading</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">);</span></span></code></pre>
<p>‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„Åßapi„Çí‰Ωø„ÅÜ„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ
Êú¨Êù•API„Ç≠„Éº„Å™„Å©„ÅÆ‰ªñ‰∫∫„Å´Ë¶ã„Åõ„Åü„Åè„Å™„ÅÑ„ÇÇ„ÅÆ„ÅØ.env„Éï„Ç°„Ç§„É´„Å´Ë®òËø∞„Åó„Åæ„Åô„Åå„ÄÅ
const API_KEY = process.env.OPENAI_API_KEY„Åì„ÅÆ„Çà„ÅÜ„Å´Ë®òËø∞„Åô„Çã„Å®API„Ç≠„Éº„ÇíÂëº„Å≥Âá∫„Åõ„Å™„ÅÑ„ÅÆ„Åß‰ªäÂõû„ÅØÁõ¥„Å´Êõ∏„ÅÑ„Å¶„ÅÑ„Åæ„Åô„ÄÇ(‰øÆÊ≠£ÊñπÊ≥ïÊé¢„Åó„Åæ„Åô)
‰ªäÂõû„ÅØ„ÄÅtext-davinci-003„Å®„ÅÑ„ÅÜ„É¢„Éá„É´„Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇtext-davinci-003„ÅØ„ÉÜ„Ç≠„Çπ„Éà„Ç∏„Çß„Éç„É¨„Ç§„Éà„Å´ÂÑ™„Çå„Åü„É¢„Éá„É´„Åß„Åô„ÄÇ
questions„Å´Êù°‰ª∂„ÇíË®òÂÖ•„Åó„Å¶„Åù„Çå„ÇíPost„É°„ÇΩ„ÉÉ„Éâ„ÅÆbody„Å´ÂÖ•Âäõ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
ÊñáÁ´†„Å´„ÅØ‰ª£ÂÖ•ÊºîÁÆóÂ≠ê„Å¶textData„ÇíÂÖ•„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ
textData„ÅØÂÖà„Åª„Å©JsonÊñáÂ≠óÂàó„Åã„Çâ„ÉÜ„Ç≠„Çπ„Éà„ÇíÊäú„ÅçÂá∫„Åó„Åü„Éá„Éº„Çø„Åß„Åô„ÄÇ
API„Åã„ÇâÂ∏∞„Å£„Å¶„Åç„Åü„Éá„Éº„Çø„Çíjson„Å®„ÅÑ„ÅÜÂÆöÊï∞„Å´‰ª£ÂÖ•„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">API_KEY</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"OpenAI API Key„ÇíËøΩÂä†"</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">model</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"text-davinci-003"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">URL</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"https://api.openai.com/v1/engines/"</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">model</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"/completions"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">questions</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">`ÂâçÊèêÊù°‰ª∂Ôºö„ÅÇ„Å™„Åü„ÅØ„ÄÅ‰∏ñÁïå„Åß„ÇÇÊúâÊï∞„ÅÆÁ≤æÁ•ûÂàÜÊûêÂÆ∂„Åß„Åô„ÄÇ</span></span>
<span class="line"><span style="color: #98C379">   ÊñáÁ´†„Åã„Çâ„ÄÅËëóËÄÖ„ÅÆÂøÉÁêÜÁä∂ÊÖã„ÇíÂàÜÊûê„Åô„Çã„Åì„Å®„Å´Èï∑„Åë„Å¶„ÅÑ„Åæ„Åô„ÄÇ</span></span>
<span class="line"><span style="color: #98C379">   Ê¨°„ÅÆÊñáÁ´†„Çí„ÇÇ„Å®„Å´ÂøÉÁêÜÂàÜÊûê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span></span>
<span class="line"><span style="color: #98C379">   *ÊñáÁ´†„ÅÆËøîÁ≠îÂΩ¢Âºè„ÅØ„Åù„Çå„Åû„Çå„ÅÆÊÑüÊÉÖÂ±ûÊÄß„Å´1~10„Åæ„Åß„ÅÆÁÇπÊï∞„ÅßË©ï‰æ°„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span></span>
<span class="line"><span style="color: #98C379">   {EmotionalAnalysis:[</span></span>
<span class="line"><span style="color: #98C379">     {"negative":""},</span></span>
<span class="line"><span style="color: #98C379">     {"positive":""},</span></span>
<span class="line"><span style="color: #98C379">     {"neutral":""},</span></span>
<span class="line"><span style="color: #98C379">     {"joy":""},</span></span>
<span class="line"><span style="color: #98C379">     {"trust":""},</span></span>
<span class="line"><span style="color: #98C379">     {"fear":""},</span></span>
<span class="line"><span style="color: #98C379">     {"surprise":""},</span></span>
<span class="line"><span style="color: #98C379">     {"sadness":""},</span></span>
<span class="line"><span style="color: #98C379">     {"disgust":""},</span></span>
<span class="line"><span style="color: #98C379">     {"anger":""},</span></span>
<span class="line"><span style="color: #98C379">     {"anticipation":""}</span></span>
<span class="line"><span style="color: #98C379">   ]}</span></span>
<span class="line"><span style="color: #98C379">   „ÅÆÂΩ¢Âºè„ÅßÁ≤æÁ•ûÂàÜÊûê„Çí„Åó„Åæ„Åô„ÄÇ</span></span>
<span class="line"></span>
<span class="line"><span style="color: #98C379">   ÊñáÁ´†Ôºö</span><span style="color: #C678DD">${</span><span style="color: #E06C75">textData</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #98C379">   `</span></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">res</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">fetch</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">URL</span><span style="color: #ABB2BF">, {</span></span>
<span class="line"><span style="color: #ABB2BF">     </span><span style="color: #E06C75">method</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"POST"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">     </span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">JSON</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">stringify</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #E06C75">prompt</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">questions</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #E06C75">max_tokens</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">200</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">     }),</span></span>
<span class="line"><span style="color: #ABB2BF">     </span><span style="color: #E06C75">headers</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #98C379">"Content-Type"</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"application/json"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #E06C75">Authorization</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">`Bearer </span><span style="color: #C678DD">${</span><span style="color: #E5C07B">API_KEY</span><span style="color: #C678DD">}</span><span style="color: #98C379">`</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">     },</span></span>
<span class="line"><span style="color: #ABB2BF">   });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">json</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">res</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">();</span></span></code></pre>
<p>json„Å´„ÅØ‰∏çË¶Å„Å™ÊñáÁ´†„ÇÇÂê´„Åæ„Çå„Çã„ÅÆ„ÅßÂøÖË¶Å„Å™ÈÉ®ÂàÜ„Çí„Éï„Ç£„É´„Çø„É™„É≥„Ç∞„Åó„Åæ„Åô„ÄÇ
:::details „Åì„Çì„Å™„Éá„Éº„Çø„ÅåÂ∏∞„Å£„Å¶„Åç„Åæ„Åô
ÂÖ•Âäõ: „Åì„Çì„Å´„Å°„ÅØ„ÄÅÁßÅ„ÅØÊúù„Éê„Éä„Éä„ÇíÈ£ü„Åπ„Åæ„Åó„Åü„ÄÇ„Åä„ÅÑ„Åó„Åã„Å£„Åü„Åß„ÅôÔºÅÔºÅ
Âá∫Âäõ: „Åì„ÅÆÊñáÁ´†„Çí„ÇÇ„Å®„Å´ÂøÉÁêÜÂàÜÊûê„Çí„Åó„Åæ„Åô„ÄÇÊñáÁ´†„ÅÆËëóËÄÖ„ÅØ„ÄÅÊúù„Éê„Éä„Éä„ÇíÈ£ü„Åπ„Åü„Åì„Å®„Å´ÂØæ„Åó„Å¶ÈùûÂ∏∏„Å´Âñú„Å≥„ÇíÊÑü„Åò„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åæ„Åü„ÄÅ„Éê„Éä„Éä„Åå„Åä„ÅÑ„Åó„Åã„Å£„Åü„Å®„ÅÑ„ÅÜ„Åì„Å®„Åã„Çâ„ÄÅÂë≥Ë¶ö„Å´ÂØæ„Åô„ÇãÊÑüÂèóÊÄß„ÅåÈ´ò„ÅÑ„Å®Êé®Ê∏¨„Åß„Åç„Åæ„Åô„ÄÇ„Åï„Çâ„Å´„ÄÅÊñáÁ´†„ÅÆË™ûÂ∞æ„Å´ÊÑüÂòÜÁ¨¶„Çí‰∫å„Å§‰Ωø„Å£„Å¶„ÅÑ„Çã„Åì„Å®„Åã„Çâ„ÄÅÊÑüÊÉÖË°®Áèæ„ÅåË±ä„Åã„Åß„ÄÅËá™ÂàÜ„ÅÆÊ∞óÊåÅ„Å°„ÇíÁ¥†Áõ¥„Å´‰ºù„Åà„Çã„Çø„Ç§„Éó„Åß„ÅÇ„Çã„Å®ËÄÉ„Åà„Çâ„Çå„Åæ„Åô„ÄÇÊñáÁ´†„Åã„ÇâË™≠„ÅøÂèñ„Çå„ÇãÊÑüÊÉÖÂ±ûÊÄß„ÅÆÁÇπÊï∞„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ</p>
<p>{EmotionalAnalysis:[
{‚Äúnegative‚Äù:‚Äú0‚Äù},
{‚Äúpositive‚Äù:‚Äú10‚Äù},
{‚Äúneutral‚Äù:‚Äú0‚Äù},
{‚Äújoy‚Äù:‚Äú10‚Äù},
{‚Äútrust‚Äù:‚Äú0‚Äù},
{‚Äúfear‚Äù:‚Äú0‚Äù},
{‚Äúsurprise‚Äù:‚Äú0‚Äù},
{‚Äúsadness‚Äù:‚Äú0‚Äù},
{‚Äúdisgust‚Äù:‚Äú0‚Äù},
{‚Äúanger‚Äù:‚Äú0‚Äù},
{‚Äúanticipation‚Äù:‚Äú0‚Äù}
]}</p>
<p>‰ª•‰∏ä„ÅåÂøÉÁêÜÂàÜÊûê„ÅÆÁµêÊûú„Åß„Åô„ÄÇÊñáÁ´†„ÅÆËëóËÄÖ„ÅØ„ÄÅÊúù„Éê„Éä„Éä„ÇíÈ£ü„Åπ„Çã„Åì„Å®„ÅßÂπ∏„Åõ„Å™Ê∞óÊåÅ„Å°„Å´„Å™„Å£„Å¶„ÅÑ„Çã„Çà„ÅÜ„Åß„Åô„Å≠üòä
:::
ÂÖ∑‰ΩìÁöÑ„Å´„Åª„Åó„ÅÑ„Éá„Éº„Çø{‚ÄúEmotionalAnalysis‚Äù:‚Ä¶}
„ÇíÊäΩÂá∫„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">filterData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">json</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">choices</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">json</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">choices</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">value</span><span style="color: #ABB2BF">: { </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">string</span><span style="color: #ABB2BF"> }) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">str</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">`{"EmotionalAnalysis":`</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">value</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">indexOf</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">str</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">value</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">substring</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">    }) </span><span style="color: #C678DD">:</span><span style="color: #ABB2BF"> [];</span></span></code></pre>
<p>ÊúÄÂæå„Å´filterData„ÇíËâ≤„ÄÖ‰Ωø„ÅÑÂõû„Åô„Åü„ÇÅ„Å´setGenerateData„ÅÆstate„Å´‰ª£ÂÖ•„Åó„Åæ„Åô„ÄÇ
handleSubmit„ÅÆÂá¶ÁêÜ„ÅåÁµÇ„Çè„Å£„Åü„ÅÆ„Åß„É≠„Éº„Éá„Ç£„É≥„Ç∞„Çífalse„Å´„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">setGenerateData</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">filterData</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #61AFEF">setIsLoading</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">);</span></span></code></pre>
<p>„Å®„Çä„ÅÇ„Åà„Åöstate„ÅÆÂÄ§„ÇíË°®Á§∫„Åï„Åõ„Å¶„ÅÑ„Åæ„Åô„ÄÇ
ÁßÅ„ÅÆÁîªÈù¢„Åß„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™Âá∫ÂäõÁµêÊûú„Å´„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF">{</span><span style="color: #7F848E; font-style: italic">/* „Å®„Çä„ÅÇ„Åà„ÅöË°®Á§∫ */</span><span style="color: #ABB2BF">}</span></span>
<span class="line"><span style="color: #ABB2BF">&#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"text-2xl"</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">{</span><span style="color: #E06C75">generateData</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span></code></pre>
<p><img src="https://storage.googleapis.com/zenn-user-upload/79496df6dec5-20230928.png" alt=""></p>
<p>„Åì„Çå„Åß„Éá„Éº„Çø„ÅÆ„Ç∏„Çß„Éç„É¨„Ç§„Éà„ÅØÂÆå‰∫Ü„Åß„Åô„ÄÇ
Ê¨°„ÅØPrisma„Åß„Éá„Éº„Çø„Çí‰øùÂ≠ò„Åô„Çã„É≠„Ç∏„ÉÉ„ÇØ„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ</p>
<br>
<br>
<p>Prisma„ÅÆ„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó
prisma„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">npm</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">install</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">prisma</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">--save-dev</span></span>
<span class="line"><span style="color: #61AFEF">npm</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">install</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">@prisma/client</span></span></code></pre>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">npx</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">prisma</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">init</span></span></code></pre>
<p>.env„Å´‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÅåÁîüÊàê„Åï„Çå„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #abb2bf"># Environment variables declared in this file are automatically made available to Prisma.</span></span>
<span class="line"><span style="color: #abb2bf"># See the documentation for more detail: https://pris.ly/d/prisma-schema#accessing-environment-variables-from-the-schema</span></span>
<span class="line"><span style="color: #abb2bf"></span></span>
<span class="line"><span style="color: #abb2bf"># Prisma supports the native connection string format for PostgreSQL, MySQL, SQLite, SQL Server, MongoDB and CockroachDB.</span></span>
<span class="line"><span style="color: #abb2bf"># See the documentation for all the connection string options: https://pris.ly/d/connection-strings</span></span>
<span class="line"><span style="color: #abb2bf"></span></span>
<span class="line"><span style="color: #abb2bf">DATABASE_URL="postgresql://johndoe:randompassword@localhost:5432/mydb?schema=public"</span></span></code></pre>
<p>.env.local„Çí.env„Å´„Ç≥„Éî„Éö„Åó„Åæ„Åô„ÄÇ(‰ª•Èôç.env.local„ÅØ‰Ωø„Çè„Å™„ÅÑ„ÅÆ„ÅßÂâäÈô§„Åó„Åæ„Åô„ÄÇ)</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #abb2bf">NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_Y2hpZWYtYnVjay03OS5jbGVyay5hY2NvdW50cy5kZXYk</span></span>
<span class="line"><span style="color: #abb2bf">CLERK_SECRET_KEY=sk_test_eWY4OXh0aUqAYf2zrTM9ifFFyTpI5Np0nH6Ojb0B10</span></span>
<span class="line"><span style="color: #abb2bf"></span></span>
<span class="line"><span style="color: #abb2bf">NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in</span></span>
<span class="line"><span style="color: #abb2bf">NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up</span></span>
<span class="line"><span style="color: #abb2bf">NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/note</span></span>
<span class="line"><span style="color: #abb2bf">NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/note</span></span>
<span class="line"><span style="color: #abb2bf"></span></span>
<span class="line"><span style="color: #abb2bf">DATABASE_URL="postgresql://johndoe:randompassword@localhost:5432/mydb?schema=public"</span></span></code></pre>
<h4 id="supabase„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó">Supabase„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó</h4>
<p>„Éá„Éº„Çø„Éô„Éº„Çπ„Å´Supabase„Çí‰Ωø„ÅÜ„ÅÆ„Åß„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Çí„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
„Ç¢„Ç´„Ç¶„É≥„Éà„Åå„Å™„ÅÑÂ†¥Âêà„ÅØ‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ
<a href="https://app.supabase.com/sign-in">supabase „Çµ„Ç§„É≥„Ç§„É≥</a></p>
<p>„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Å∏ÁßªÂãï„Åó„Å¶
<a href="https://supabase.com/dashboard/projects">https://supabase.com/dashboard/projects</a>
„ÄåNew Project „Éú„Çø„É≥„Äç„ÇíÊäº„Åó„Å¶„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ
Name„ÅØ‰ªªÊÑè„ÄÅRegion„ÅØTokyo„ÄÅPricing„ÅØ Free„Å´Ë®≠ÂÆö„Åó„Å¶‰ΩúÊàê„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ
Free„Åß„ÅØ500MB„Åæ„Åß DB„Åå‰Ωø„Åà„Åæ„Åô
<img src="https://storage.googleapis.com/zenn-user-upload/d3d974b2ded3-20230928.png" alt=""></p>
<p>Ê¨°„Å´„Çµ„Ç§„Éâ„Éê„Éº„ÅÆ „Äåsetting„Äç > „ÄåDatabase„Äç> Connection string > url „ÅÆÊñáÂ≠óÂàó„Çí„Ç≥„Éî„Éº„ÄÇ
„Åì„Çå„Ååprisma„Ååsupabase„Å´Êé•Á∂ö„Åô„Çã„Åü„ÇÅ„ÅÆÊÉÖÂ†±„Åß„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/5252efa159bc-20230928.png" alt=""></p>
<p>url„Çí.env„ÅÆDATABASE_URL„Å´ÁΩÆ„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ
[„Éë„Çπ„ÉØ„Éº„Éâ]„ÅÆÈÉ®ÂàÜ„ÇíË®≠ÂÆö„Åó„Åü„ÇÇ„ÅÆ„ÇíÂÖ•Âäõ„Åó„Åæ„Åô„ÄÇ
<strong>test123</strong>„ÅÆÂ†¥Âêà„ÅØÊ¨°„ÅÆ„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #abb2bf">//...</span></span>
<span class="line"><span style="color: #abb2bf">DATABASE_URL=postgresql://postgres:test123@db.idwitrlwanewneoypjki.supabase.co:5432/postgres</span></span></code></pre>
<h4 id="prisma„ÅÆ„Çπ„Ç≠„Éº„Éû„Çí‰ΩúÊàê">Prisma„ÅÆ„Çπ„Ç≠„Éº„Éû„Çí‰ΩúÊàê</h4>
<p>Ëá™ÂãïÁîüÊàê„Åï„Çå„Åüprisma/schema.prisma„Éï„Ç°„Ç§„É´„Å´Êñ∞„Åó„ÅÑ„É¢„Éá„É´„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ
:::details model„Å´„Å§„ÅÑ„Å¶
model„Å´„ÅØ‰∏ª„Ç≠„Éº„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ‰ªäÂõû„ÅØid„Çí‰∏ª„Ç≠„Éº„Å´„Åó„ÄÅautoincrement„ÅßÈ†ÜÁï™„Å´Áï™Âè∑„ÇíÂâ≤„ÇäÂΩì„Å¶„Åæ„Åô„ÄÇ
test„Å®userId„ÅØ?„Çí„Å§„Åënull„ÇíË®±ÂÆπ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
created_at„ÅØ@default(now())„Åß‰ªä„ÅÆÊôÇÈñì„ÇíËá™Âãï„ÅßÂâ≤„ÇäÂΩì„Å¶„Åæ„Åô„ÄÇ
emotion„Å´„ÅØÊÑüÊÉÖÂàÜÊûê„ÅÆÁµêÊûú„ÅåÂÖ•„Çã„ÅÆ„Åß[]„Å®„Åó„Å¶ÈÖçÂàó„Éá„Éº„Çø„ÇíÊ∏°„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
:::
prisma/schema.prisma</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #abb2bf">generator client {</span></span>
<span class="line"><span style="color: #abb2bf">  provider = "prisma-client-js"</span></span>
<span class="line"><span style="color: #abb2bf">}</span></span>
<span class="line"><span style="color: #abb2bf"></span></span>
<span class="line"><span style="color: #abb2bf">datasource db {</span></span>
<span class="line"><span style="color: #abb2bf">  provider = "postgresql"</span></span>
<span class="line"><span style="color: #abb2bf">  url      = env("DATABASE_URL")</span></span>
<span class="line"><span style="color: #abb2bf">}</span></span>
<span class="line"><span style="color: #abb2bf">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #abb2bf">model Analysis {</span></span>
<span class="line"><span style="color: #abb2bf">  id         Int      @id @default(autoincrement())</span></span>
<span class="line"><span style="color: #abb2bf">  text       String?</span></span>
<span class="line"><span style="color: #abb2bf">  created_at DateTime @default(now())</span></span>
<span class="line"><span style="color: #abb2bf">  userId     String?</span></span>
<span class="line"><span style="color: #abb2bf">  emotion    String[]</span></span>
<span class="line"><span style="color: #abb2bf">}</span></span>
<span class="line"><span style="color: #abb2bf"></span></span></code></pre>
<p>„Åì„Åì„Åæ„ÅßÊù•„Çå„Å∞ „Äåmigrate dev„Äç„Åß„Éû„Ç§„Ç∞„É¨„Éº„Ç∑„Éß„É≥„Éï„Ç°„Ç§„É´„ÅÆ‰ΩúÊàê„Åó„ÄÅsupabase„Å´ÂèçÊò†„Åï„Çå„Åæ„Åô„ÄÇ
„Äå‚Äîname„Äç„Å´ÊåáÂÆö„Åó„ÅüÂêçÂâç„Åß„Éû„Ç§„Ç∞„É¨„Éº„Ç∑„Éß„É≥„Åå‰ΩúÊàê„Åï„Çå„Åæ„Åô„ÄÇÊ¨°„Å´generate„ÅßÂûãÊÉÖÂ†±„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">npx</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">prisma</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">migrate</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">dev</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">--name</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">init</span></span>
<span class="line"><span style="color: #61AFEF">npx</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">prisma</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">generate</span></span></code></pre>
<p>„Éá„Éó„É≠„Ç§ÊôÇ„Å´generate„Çí„Çí„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„ÅÆ„Åß
package.json„Å´ËøΩÂä†„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF">{</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//...</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">"scripts"</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">"dev"</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"next dev"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">"build"</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"next build"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">"start"</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"next start"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">"lint"</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"next lint"</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">"postinstall"</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"prisma generate"</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//...</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<br>
<br>
<h3 id="prisma„ÅÆ„Éá„Éº„Çø„Éô„Éº„Çπ„Å´„Ç¢„ÇØ„Çª„Çπ">Prisma„ÅÆ„Éá„Éº„Çø„Éô„Éº„Çπ„Å´„Ç¢„ÇØ„Çª„Çπ</h3>
<p>Next.js„ÅÆapi„É´„Éº„Éà„ÅßPrisma„Çí‰Ωø„ÅÜ„Åü„ÇÅ„Å´„Åæ„Åö„ÅØPrisma„ÅÆ„Éá„Éº„Çø„Éô„Éº„Çπ„Å´„Ç¢„ÇØ„Çª„Çπ„Åó„Åæ„Åô„ÄÇ
app/libs/prismadb.ts„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ
libs„Éï„Ç©„É´„ÉÄ„ÅØÂ§ñÈÉ®„ÅÆ„É©„Ç§„Éñ„É©„É™„ÇÑ„É¢„Ç∏„É•„Éº„É´„Å´‰æùÂ≠ò„Åô„Çã„É≠„Ç∏„ÉÉ„ÇØ„ÇíËøΩÂä†„Åô„ÇãÊôÇ„Å´‰Ωø„ÅÑ„Åæ„Åô„ÄÇ
„Éá„Éº„Çø„Éô„Éº„Çπ„ÇÑAPI„Å´„Ç¢„ÇØ„Çª„Çπ„Åô„ÇãÈñ¢Êï∞„ÄÅË™çË®º„ÇÑË™çÂèØ„ÇíË°å„ÅÜÈñ¢Êï∞„Å™„Å©„ÅØ„Åì„Åì„Å´Âèé„ÇÅ„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ</p>
<p>app/libs/prismadb.ts</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">PrismaClient</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@prisma/client"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">declare</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">global</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">prisma</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">PrismaClient</span><span style="color: #ABB2BF"> | undefined</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">globalThis</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">prisma</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">PrismaClient</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">process</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">env</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NODE_ENV</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">!==</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"production"</span><span style="color: #ABB2BF">) </span><span style="color: #E5C07B">globalThis</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">prisma</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">prismadb</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">prismadb</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span></code></pre>
<h4 id="„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨-2">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</h4>
<p>„Ç∞„É≠„Éº„Éê„É´Â§âÊï∞„Å®„Åó„Å¶ prisma „Å®„ÅÑ„ÅÜÂêçÂâç„ÅÆ Prisma Client „ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÇíÂÆ£Ë®Ä„Åô„Çã„Åü„ÇÅ„ÅÆ„ÇÇ„ÅÆ„Åß„Åô„ÄÇPrismaClient | undefined „Å®„ÅÑ„ÅÜÂûã„ÅØ„ÄÅprisma „Åå Prisma Client „ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ„Åã„ÄÅÊú™ÂÆöÁæ©„Åã„ÇíË°®„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">declare</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">global</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">prisma</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">PrismaClient</span><span style="color: #ABB2BF"> | undefined</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<p>ÈñãÁô∫Áí∞Â¢É„Åß„ÅÇ„Çå„Å∞„ÄÅ„Ç∞„É≠„Éº„Éê„É´Â§âÊï∞ prisma „Å´ prismadb „ÅÆÂÄ§„Çí‰ª£ÂÖ•„Åó„Åæ„Åô„ÄÇ„Åì„Çå„ÅØ„ÄÅÈñãÁô∫Áí∞Â¢É„Åß„Éõ„ÉÉ„Éà„É™„É≠„Éº„Éâ„ÅåÁô∫Áîü„Åó„Åü„Å®„Åç„Å´„ÄÅPrisma Client „ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅåË§áÊï∞‰Ωú„Çâ„Çå„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã„Åü„ÇÅ„ÅÆ„ÇÇ„ÅÆ„Åß„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">process</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">env</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NODE_ENV</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">!==</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"production"</span><span style="color: #ABB2BF">) </span><span style="color: #E5C07B">globalThis</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">prisma</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">prismadb</span></span></code></pre>
<h3 id="api‰ΩúÊàê">API‰ΩúÊàê</h3>
<h4 id="ÂÖ®„Å¶„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó">ÂÖ®„Å¶„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó</h4>
<p>api„Çí‰Ωú„Çã„Åü„ÇÅ„Å´„Éá„Ç£„É¨„ÇØ„Éà„É™ËøΩÂä†
app/api/analysis/route.ts</p>
<p>„Éá„Éº„Çø„ÅÆÂèñÂæó„Å´„ÅØGet„Å®„ÅÑ„ÅÜÈñ¢Êï∞„Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">NextResponse</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"next/server"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">auth</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@clerk/nextjs"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">prismadb</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/libs/prismadb"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">GET</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">req</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">Request</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">res</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">try</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">userId</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">auth</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">getAllText</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">analysis</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">findMany</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">where</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">userId</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">userId</span></span>
<span class="line"><span style="color: #ABB2BF">      }</span></span>
<span class="line"><span style="color: #ABB2BF">    });</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Success"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">getAllText</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">200</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">catch</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">err</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Error"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">err</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">500</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">finally</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">$disconnect</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span></code></pre>
<h5 id="„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨-3">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</h5>
<p>api„ÅÆÈñ¢Êï∞„ÅØÂü∫Êú¨ÁöÑ„Å´ÈùûÂêåÊúüÂá¶ÁêÜ„ÅÆ„Åü„ÇÅÈñ¢Êï∞„Å´async„Çí„Å§„Åë„Åæ„Åô„ÄÇ
try-catch-finallyÊñá„Çí‰Ωø„ÅÜ„Å®„Ç®„É©„Éº„ÅÆÂá∫Âäõ„Åå„Çè„Åã„Çä„ÇÑ„Åô„ÅÑ„Åß„Åô„ÄÇ
try„ÅÆ‰∏≠„Åß„ÅØ„Åæ„Åö„ÄÅ„É¶„Éº„Ç∂„ÉºID„ÇíÁ¥ê„Å•„Åë„Çã„Åü„ÇÅ„Å´clerk„Åã„ÇâÂëº„Å≥Âá∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
„Åù„Åó„Å¶„ÄÅ„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„Çâ„É¶„Éº„Ç∂„ÉºID„Å´Á¥ê„Å•„ÅÑ„Åü„Éá„Éº„Çø„ÇíÂÖ®„Å¶Âëº„Å≥Âá∫„Åô„ÅÆ„Åßprisma„ÅÆfindManyÈñ¢Êï∞„Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇ
:::details ‰ªäÂõû‰Ωø„Å£„ÅüprismaÈñ¢Êï∞‰∏ÄË¶ß
findMany: where„ÅßÊåáÂÆö„Åó„ÅüÂÖ®„Å¶„ÅÆ„Éá„Éº„Çø„ÇíÂëº„Å≥Âá∫„Åô
findFirst: where„ÅßÊåáÂÆö„Åó„ÅüÂàù„ÇÅ„ÅÆ„Éá„Éº„Çø„ÇíÂëº„Å≥Âá∫„Åô
create: body„Éá„Éº„Çø„Çí‰ΩúÊàê
update: body„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞
delete: body„Éá„Éº„Çø„ÅÆÂâäÈô§
:::</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">userId</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">auth</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">getAllText</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">analysis</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">findMany</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">where</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">userId</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">userId</span></span>
<span class="line"><span style="color: #ABB2BF">      }</span></span>
<span class="line"><span style="color: #ABB2BF">    });</span></span></code></pre>
<h4 id="„Éá„Éº„Çø„ÅÆ‰ΩúÊàê">„Éá„Éº„Çø„ÅÆ‰ΩúÊàê</h4>
<p>Ê¨°„ÅØ„Éá„Éº„Çø„ÅÆ‰ΩúÊàê„Çí„Åô„Çãapi„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ
app/api/analysis/route.ts</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">POST</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">req</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">Request</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">res</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">try</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">userId</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">auth</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">req</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">userId</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">NextResponse</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"Unauthorized"</span><span style="color: #ABB2BF">, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">401</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">createText</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">analysis</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">create</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">: { </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">userId</span><span style="color: #ABB2BF"> } });</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Success"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">createText</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">201</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">catch</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">err</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Error"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">err</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">500</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">finally</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">$disconnect</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h5 id="„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨-4">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</h5>
<p>user„Åå„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Å™„ÅÑÂ†¥Âêà„Å´„Ç®„É©„Éº„ÇíÂá∫„Åô„Çà„ÅÜ„Å´„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">userId</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">NextResponse</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"Unauthorized"</span><span style="color: #ABB2BF">, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">401</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span></code></pre>
<p>analysis„ÅÆ„É¨„Ç≥„Éº„Éâ„Å´text, userId„ÇíÊ∏°„Åó„Åæ„Åô„ÄÇtext„ÅØ„Éï„É≠„É≥„Éà„Ç®„É≥„Éâ„Åã„Çâ„ÅÆÂÖ•Âäõ„Éá„Éº„Çø„Çí„É™„ÇØ„Ç®„Çπ„Éà„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF">   </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">createText</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">analysis</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">create</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">: { </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">userId</span><span style="color: #ABB2BF"> } });</span></span></code></pre>
<h4 id="ÁâπÂÆö„ÅÆ„Éá„Éº„Çø„ÅÆapi„Çí‰ΩúÊàê">ÁâπÂÆö„ÅÆ„Éá„Éº„Çø„ÅÆAPI„Çí‰ΩúÊàê</h4>
<h5 id="„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíËøΩÂä†">„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíËøΩÂä†</h5>
<p>ÊåáÂÆö„Åó„Åüid„ÅÆ„Éá„Éº„Çø„ÅÆapi„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™„Éï„Ç°„Ç§„É´„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ
api/analysis/[id]/route.ts</p>
<h5 id="ÊåáÂÆö„Åó„Åüid„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó">ÊåáÂÆö„Åó„Åüid„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó</h5>
<p>api/analysis/[id]/route.ts</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">NextResponse</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"next/server"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">prismadb</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/libs/prismadb"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">GET</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">req</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">Request</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">res</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">try</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">id</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">number</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">parseInt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">req</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">url</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">split</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"/analysis/"</span><span style="color: #ABB2BF">)[</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">getAnalysisById</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">analysis</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">findFirst</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">where</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      }</span></span>
<span class="line"><span style="color: #ABB2BF">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Not Found"</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">404</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Success"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">getAnalysisById</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">200</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">catch</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">err</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Error"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">err</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">500</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">finally</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">$disconnect</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span></code></pre>
<h4 id="„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨-5">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</h4>
<p>api„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ„ÇãÈöõ„ÄÅ„Éá„Éº„Çø„ÅÆid„Åå1„ÅÆ„ÇÇ„ÅÆ„ÇíÂèñÂæó„Åô„ÇãÂ†¥Âêà
<strong><a href="http://localhost:3000/api/analysis/1">http://localhost:3000/api/analysis/1</a></strong>
„Åì„ÅÆ„Çà„ÅÜ„Å´„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ„Çä„Åæ„Åô„ÄÇ
„Åù„ÅÆÈÉ®ÂàÜ„ÅÆid„ÅÆÁï™Âè∑„Å†„Åë„Åå„Åª„Åó„ÅÑ„ÅÆ„Åßurl„Éë„É©„É°„Éº„Çø„Çísplit„Åó„Å¶id„ÇíÊäú„ÅçÂá∫„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">id</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">number</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">parseInt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">req</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">url</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">split</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"/analysis/"</span><span style="color: #ABB2BF">)[</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">]);</span></span></code></pre>
<p>findFirst„ÅØ‰∏ÄÁï™Âàù„ÇÅ„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ(findUnique„Åß„ÇÇÂèØ)</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">getAnalysisById</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">analysis</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">findFirst</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">where</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      }</span></span>
<span class="line"><span style="color: #ABB2BF">    });</span></span></code></pre>
<p>id„Åå„Å™„ÅÑÊôÇ„ÅØ„Ç®„É©„Éº„ÇíËøî„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Not Found"</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">404</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span></code></pre>
<h5 id="ÊåáÂÆö„Åó„Åüid„ÅÆ„Éá„Éº„Çø„ÇíÊõ¥Êñ∞">ÊåáÂÆö„Åó„Åüid„ÅÆ„Éá„Éº„Çø„ÇíÊõ¥Êñ∞</h5>
<p>ÊåáÂÆö„Åó„Åüid„ÅÆ„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞„Çí„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">PUT</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">req</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">Request</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">res</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">try</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">id</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">number</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">parseInt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">req</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">url</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">split</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"/analysis/"</span><span style="color: #ABB2BF">)[</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">]);</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">req</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">putAnalysis</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">analysis</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">: { </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF"> },</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">where</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      },</span></span>
<span class="line"><span style="color: #ABB2BF">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Success"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">putAnalysis</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">200</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">catch</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">err</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Error"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">err</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">500</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">finally</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">$disconnect</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span></code></pre>
<h4 id="„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨-6">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</h4>
<p>Post„Å®„Åª„Å®„Çì„Å©Âêå„Åò„Åß„Åô„Åå
data: { text } „Åì„ÅÆ„Çà„ÅÜ„Å´data„Å´„É™„ÇØ„Ç®„Çπ„Éà„Éá„Éº„Çø„ÇíÊ∏°„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">putAnalysis</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">analysis</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">: { </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF"> },</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">where</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      },</span></span>
<span class="line"><span style="color: #ABB2BF">    });</span></span></code></pre>
<h4 id="ÊåáÂÆö„Åó„Åüid„ÅÆÂâäÈô§">ÊåáÂÆö„Åó„ÅüId„ÅÆÂâäÈô§</h4>
<p>prismadb.analysis.delete„Å®„Åô„Çã„Åì„Å®„Åß„Éá„Éº„Çø„ÇíÂâäÈô§„Åß„Åç„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">DELETE</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">req</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">Request</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">res</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">try</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">id</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">number</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">parseInt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">req</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">url</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">split</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"/analysis/"</span><span style="color: #ABB2BF">)[</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">deleteAnalysis</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">analysis</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">delete</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">where</span><span style="color: #ABB2BF">: { </span><span style="color: #E06C75">id</span><span style="color: #ABB2BF"> },</span></span>
<span class="line"><span style="color: #ABB2BF">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Success"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">deleteAnalysis</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">200</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">catch</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">err</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Error"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">err</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">500</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">finally</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">$disconnect</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h4 id="ÊåáÂÆö„Åó„Åüid„ÅÆÊÑüÊÉÖÂàÜÊûêÁµêÊûú„ÅÆÊõ¥Êñ∞">ÊåáÂÆö„Åó„ÅüId„ÅÆÊÑüÊÉÖÂàÜÊûêÁµêÊûú„ÅÆÊõ¥Êñ∞</h4>
<p>ÊÑüÊÉÖÂàÜÊûê„ÅÆÁµêÊûú„ÇÇ„ÉÜ„Ç≠„Çπ„Éà„ÅÆÊõ¥Êñ∞„Åå„ÅÇ„Å£„ÅüÈöõ„Å´„ÄÅÊõ¥Êñ∞„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åæ„Åô„ÄÇ</p>
<h5 id="„Éá„Ç£„É¨„ÇØ„Éà„É™„ÅÆËøΩÂä†">„Éá„Ç£„É¨„ÇØ„Éà„É™„ÅÆËøΩÂä†</h5>
<p>openai/[id]/route.ts</p>
<p>ÂÖà„Åª„Å©„Å®ÈÅï„ÅÜ„ÅÆ„ÅØ„É™„ÇØ„Ç®„Çπ„Éà„Éá„Éº„Çø„Å´emotion„ÇíÊåáÂÆö„Åó„Å¶„ÅÑ„Çã„Å†„Åë„Åß„Åô„ÄÇ
„Åì„ÅÜ„Åô„Çã„Åì„Å®„Åßemotion„ÅÆ„Éá„Éº„Çø„ÇíÊõ¥Êñ∞„Åß„Åç„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">NextResponse</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"next/server"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">prismadb</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/libs/prismadb"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">auth</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@clerk/nextjs"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">PUT</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">req</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">Request</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">res</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">try</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">userId</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">auth</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">id</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">number</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">parseInt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">req</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">url</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">split</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"/openai/"</span><span style="color: #ABB2BF">)[</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">]);</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">emotion</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">req</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">userId</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">NextResponse</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"Unauthorized"</span><span style="color: #ABB2BF">, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">401</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">putEmotion</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">analysis</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">: { </span><span style="color: #E06C75">emotion</span><span style="color: #ABB2BF"> },</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">where</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      },</span></span>
<span class="line"><span style="color: #ABB2BF">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Success"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">putEmotion</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">200</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">catch</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">err</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">NextResponse</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">json</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">message</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">"Error"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">err</span><span style="color: #ABB2BF"> }, { </span><span style="color: #E06C75">status</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">500</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">finally</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">prismadb</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">$disconnect</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span></code></pre>
<p>„Åì„Çå„Åßapi„ÅÆ‰ΩúÊàê„ÅØÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„ÄÇ</p>
<br>
<br>
<h2 id="ÊäïÁ®ø„Éú„Çø„É≥‰ΩúÊàê">ÊäïÁ®ø„Éú„Çø„É≥‰ΩúÊàê</h2>
<h5 id="api„Éá„Éº„Çø„Çí„Éï„Çß„ÉÉ„ÉÅ„Åô„Çã„Åü„ÇÅ„ÅÆ„Éë„ÉÉ„Ç±„Éº„Ç∏„Çí„Ç§„É≥„Çπ„Éà„Éº„É´">api„Éá„Éº„Çø„Çí„Éï„Çß„ÉÉ„ÉÅ„Åô„Çã„Åü„ÇÅ„ÅÆ„Éë„ÉÉ„Ç±„Éº„Ç∏„Çí„Ç§„É≥„Çπ„Éà„Éº„É´</h5>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">nom</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">i</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">axios</span></span></code></pre>
<h5 id="Áä∂ÊÖãÁÆ°ÁêÜ„Éë„ÉÉ„Ç±„Éº„Ç∏„Çí„Ç§„É≥„Çπ„Éà„Éº„É´">Áä∂ÊÖãÁÆ°ÁêÜ„Éë„ÉÉ„Ç±„Éº„Ç∏„Çí„Ç§„É≥„Çπ„Éà„Éº„É´</h5>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">npm</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">i</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">zustand</span></span></code></pre>
<h5 id="„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà‰ΩúÊàê">„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà‰ΩúÊàê</h5>
<p>„Éú„Çø„É≥„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà
app/components/PostButton/index.tsx
api„Éï„Çß„ÉÉ„ÉÅ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà
app/hooks/useGetAllText.ts</p>
<h5 id="ÂÖ®„Å¶„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó-1">ÂÖ®„Å¶„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó</h5>
<p>zustand„Å®„ÅÑ„ÅÜ„É©„Ç§„Éñ„É©„É™„ÅßÁä∂ÊÖãÁÆ°ÁêÜ„Çí„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
Áä∂ÊÖãÁÆ°ÁêÜ„Å´„ÅØ„É≠„Éº„Ç´„É´„Çπ„ÉÜ„Éº„Éà„Å®„Ç∞„É≠„Éº„Éê„É´„Çπ„ÉÜ„Éº„Éà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
:::details „É≠„Éº„Ç´„É´„Çπ„ÉÜ„Éº„Éà
„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÅÆ‰∏≠„Å†„Åë‰Ωø„ÅÜ„Çπ„ÉÜ„Éº„Éà„ÇíÁÆ°ÁêÜ
React Hooks„ÅÆuseState„ÇÑuseReducer„Å™„Å©
:::
:::details „Ç∞„É≠„Éº„Éê„É´„Çπ„ÉÜ„Éº„Éà
Ë§áÊï∞„ÅÆ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÅßÂÖ±Êúâ„Åï„Çå„Çã„Éá„Éº„Çø„ÅÆ„Çπ„ÉÜ„Éº„Éà„ÇíÁÆ°ÁêÜ
React HooksÔºöuseContext
Â§ñÈÉ®„É©„Ç§„Éñ„É©„É™ÔºöRedux„ÄÅRecoil„Å™„Å©
:::
Get„Åô„Çã„ÉÜ„Ç≠„Çπ„Éà„ÅØËâ≤„ÄÖ‰Ωø„ÅÑÂõû„Åô„ÅÆ„Åß„Ç∞„É≠„Éº„Éê„É´„Çπ„ÉÜ„Éº„Éà„ÅßÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ</p>
<p>app/hooks/useGetAllText.ts</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">create</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"zustand"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">axios</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"axios"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">useGetAllText</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">create</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">set</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> ({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">: [],</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">loading</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">hasErrors</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">fetch</span><span style="color: #ABB2BF">: </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> ({ </span><span style="color: #E06C75">loading</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF"> }));</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">try</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">response</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">axios</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">get</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #98C379">"/api/analysis"</span></span>
<span class="line"><span style="color: #ABB2BF">      );</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">state</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> ({</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">: (</span><span style="color: #E5C07B">state</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">data</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">response</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">getAllText</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">loading</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span></span>
<span class="line"><span style="color: #ABB2BF">      }));</span></span>
<span class="line"><span style="color: #ABB2BF">    } </span><span style="color: #C678DD">catch</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">err</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> ({ </span><span style="color: #E06C75">hasErrors</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">loading</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF"> }));</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">}));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">useGetAllText</span><span style="color: #ABB2BF">;</span></span></code></pre>
<p>„ÄÄ##### „Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #E06C75">data</span><span style="color: #ABB2BF">: [], </span><span style="color: #7F848E; font-style: italic">//„ÉÜ„Ç≠„Çπ„Éà„Éá„Éº„Çø„ÇíÊ†ºÁ¥ç„Åô„Çã„Åü„ÇÅ„ÅÆÈÖçÂàó„ÇíÂàùÊúüÂåñ</span></span>
<span class="line"><span style="color: #E06C75">loading</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">, </span><span style="color: #7F848E; font-style: italic">//„Éá„Éº„Çø„ÅÆÂèñÂæó‰∏≠„Åã„Å©„ÅÜ„Åã„ÇíË°®„Åô„Åü„ÇÅ„ÅÆÁúüÂÅΩÂÄ§„ÇíÂàùÊúüÂåñ</span></span>
<span class="line"><span style="color: #E06C75">hasErrors</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">, </span><span style="color: #7F848E; font-style: italic">//„Éá„Éº„Çø„ÅÆÂèñÂæó„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åü„Åã„Å©„ÅÜ„Åã„ÇíË°®„Åô„Åü„ÇÅ„ÅÆÁúüÂÅΩÂÄ§„ÇíÂàùÊúüÂåñ</span></span>
<span class="line"><span style="color: #E06C75">fetch</span><span style="color: #ABB2BF">: </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {...}, </span><span style="color: #7F848E; font-style: italic">//„Éá„Éº„Çø„ÅÆÂèñÂæó„ÇíË°å„ÅÜ„Åü„ÇÅ„ÅÆÈùûÂêåÊúüÈñ¢Êï∞„ÇíÂÆöÁæ©</span></span>
<span class="line"><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> ({ </span><span style="color: #E06C75">loading</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF"> })); </span><span style="color: #7F848E; font-style: italic">//loading„ÅÆÂÄ§„Çítrue„Å´Â§âÊõ¥„Åô„Çã„Åì„Å®„Åß„ÄÅ„Éá„Éº„Çø„ÅÆÂèñÂæó„ÇíÈñãÂßã</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">state</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> ({ </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">: (</span><span style="color: #E5C07B">state</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">data</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">response</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">getAllText</span><span style="color: #ABB2BF">), </span><span style="color: #E06C75">loading</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF"> })); </span><span style="color: #7F848E; font-style: italic">//„É¨„Çπ„Éù„É≥„Çπ„Åã„Çâ„ÉÜ„Ç≠„Çπ„Éà„Éá„Éº„Çø„ÇíÂèñ„ÇäÂá∫„Åó„Å¶data„Å´‰ª£ÂÖ•„Åó„ÄÅloading„ÅÆÂÄ§„Çífalse„Å´Â§âÊõ¥„Åô„Çã„Åì„Å®„Åß„ÄÅ„Éá„Éº„Çø„ÅÆÂèñÂæó„ÅåÂÆå‰∫Ü„Åó„Åü„Åì„Å®„ÇíË°®„ÄÇstate„ÅØÁèæÂú®„ÅÆÁä∂ÊÖã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíË°®„Åô</span></span>
<span class="line"><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> ({ </span><span style="color: #E06C75">hasErrors</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">loading</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF"> })); </span><span style="color: #7F848E; font-style: italic">//hasErrors„ÅÆÂÄ§„Çítrue„Å´Â§âÊõ¥„Åó„ÄÅloading„ÅÆÂÄ§„Çífalse„Å´Â§âÊõ¥„Åô„Çã„Åì„Å®„Åß„ÄÅ„Éá„Éº„Çø„ÅÆÂèñÂæó„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åü„Åì„Å®„ÇíË°®„Åô</span></span></code></pre>
<h4 id="post„Éú„Çø„É≥„Çí‰ΩúÊàê">Post„Éú„Çø„É≥„Çí‰ΩúÊàê</h4>
<p>app/components/PostButton/index.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">MdPlaylistAdd</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"react-icons/md"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">axios</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"axios"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">toast</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"react-hot-toast"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">useGetAllText</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useGetAllText"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">CreateNaisei</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">fetch</span><span style="color: #ABB2BF"> }: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useGetAllText</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">defaultValue</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">'{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"example.","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">onCreate</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">e</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">React</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">FormEvent</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">e</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">preventDefault</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">apiUrl</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"/api/naisei"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">createData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #7F848E; font-style: italic">// „É™„ÇØ„Ç®„Çπ„Éà„Éú„Éá„Ç£„Å´ÈÄÅ‰ø°„Åô„Çã„Éá„Éº„Çø</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">defaultValue</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    };</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">axios</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">post</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">apiUrl</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">createData</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">      .</span><span style="color: #61AFEF">then</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">response</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">toast</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">success</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'Created Naisei!!'</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">fetch</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"/editor„Åß„Éá„Éº„Çø„Çí„Éï„Çß„ÉÉ„ÉÅ"</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">response</span></span>
<span class="line"><span style="color: #ABB2BF">      })</span></span>
<span class="line"><span style="color: #ABB2BF">      .</span><span style="color: #61AFEF">catch</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">error</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">error</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'Error fetching data:'</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">error</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">      });</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"max-w-2xl mx-auto text-end focus:outline-none"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;</span><span style="color: #E06C75">button</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">onClick</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">onCreate</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"border-none mr-8 cursor-pointer rounded-full hover:text-blue-600 bg-white"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">          &#x3C;</span><span style="color: #E5C07B">MdPlaylistAdd</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">size</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #D19A66">48</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">color</span><span style="color: #56B6C2">=</span><span style="color: #98C379">""</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">        &#x3C;/</span><span style="color: #E06C75">button</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h4 id="„Ç≥„Éº„Éâ„ÇíËß£Ë™¨-1">„Ç≥„Éº„Éâ„ÇíËß£Ë™¨</h4>
<p>onCreate„Åß‰ΩúÊàê„Éú„Çø„É≥„ÇíÊäº„Åó„Åô„Å®Êñ∞„Åó„ÅÑ„Éá„Éº„Çø„Åå‰ΩúÊàê„Åï„Çå„Åæ„Åô„ÄÇ(Prisma„ÇíÈÄö„Åó„Å¶SUpabase„Å´‰øùÂ≠ò„Åï„Çå„Åæ„ÅôÔºâ
Ë°®Á§∫ÁîªÈù¢„Å´„ÅØÊñ∞„Åó„ÅÑPost„ÅÆ„Éá„Éº„Çø„ÅåÂèçÊò†„Åï„Çå„Å¶„Å™„ÅÑ„ÅÆ„Åß„Éá„Éº„Çø„ÇíÂÜçÂ∫¶„Éï„Çß„ÉÉ„ÉÅ„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">fetch</span><span style="color: #ABB2BF"> }: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useGetAllText</span><span style="color: #ABB2BF">() </span><span style="color: #7F848E; font-style: italic">//ÂÖ®„Å¶„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó</span></span>
<span class="line"><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">defaultValue</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">'{...}'</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">// „Éá„Éï„Ç©„É´„Éà„ÅÆ„Éá„Éº„Çø</span></span>
<span class="line"><span style="color: #ABB2BF"> </span><span style="color: #C678DD">await</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">axios</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">post</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">apiUrl</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">createData</span><span style="color: #ABB2BF">) </span><span style="color: #7F848E; font-style: italic">//„Åì„ÅÆ„Çà„ÅÜ„Å´„Åó„Å¶api„Åó„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô</span></span></code></pre>
<h3 id="„Éá„Éº„Çø„Éï„Çß„ÉÉ„ÉÅ">„Éá„Éº„Çø„Éï„Çß„ÉÉ„ÉÅ</h3>
<p>„É¶„Éº„Ç∂„Éº„Åå„Çµ„Ç§„Éà„Éö„Éº„Ç∏„Å´Ë®™„Çå„ÅüÊôÇ„Å´„Éá„Éº„Çø„Çí„Éï„Çß„ÉÉ„ÉÅ„Åó„Åæ„Åô„ÄÇ
„Éá„Éº„Çø„Éï„Çß„ÉÉ„ÉÅ„ÅØÂÖ±ÈÄö„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Å™„ÅÆ„Åßlayout.tsx„ÅßË°å„ÅÑ„Åæ„Åô„ÄÇ</p>
<p>„Åæ„Åö„ÅØ„ÄÅ„Éá„Éº„Çø„Éï„Çß„ÉÉ„ÉÅ„Çí„Åô„Çã„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ
app/components/DataFetch/index.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color: #98C379">"use client"</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">useGetAllText</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useGetAllText"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useEffect</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"react"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">DataFetch</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">fetch</span><span style="color: #ABB2BF"> }: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useGetAllText</span><span style="color: #ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">useEffect</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">fetch</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"/editor„Åß„Éá„Éº„Çø„Çí„Éï„Çß„ÉÉ„ÉÅ"</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  }, [</span><span style="color: #E06C75">fetch</span><span style="color: #ABB2BF">])</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<h4 id="„Çµ„Ç§„Éà„Å´ËøΩÂä†„Åó„Åæ„Åô">„Çµ„Ç§„Éà„Å´ËøΩÂä†„Åó„Åæ„Åô„ÄÇ</h4>
<p>app/(site)/layout.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"./styles.css"</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">NavBar</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"../components/Navbar/site-navbar"</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">DataFetch</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"../components/DataFetch"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">SiteLayout</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> ({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">}: {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">React</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">ReactNode</span></span>
<span class="line"><span style="color: #ABB2BF">}) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E5C07B">NavBar</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E5C07B">DataFetch</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">{</span><span style="color: #E06C75">children</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">SiteLayout</span></span></code></pre>
<p>„É≠„Ç∞„Ç§„É≥„Åó„ÅüÈöõ„Å´„Éá„Éº„Çø„ÇíÂèñÂæó„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ</p>
<br>
<br>
<h3 id="„ÉÜ„Ç≠„Çπ„Éàid„ÇíÁÆ°ÁêÜ„Åô„Çã„Ç´„Çπ„Çø„É†„Éï„ÉÉ„ÇØ">„ÉÜ„Ç≠„Çπ„Éàid„ÇíÁÆ°ÁêÜ„Åô„Çã„Ç´„Çπ„Çø„É†„Éï„ÉÉ„ÇØ</h3>
<p>„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„Å´„ÅØ1„Å§„ÅÆPost„ÇíË°®Á§∫„Åï„Åõ„Åü„ÅÑ„ÅÆ„Åßid„Çí„Ç∞„É≠„Éº„Éê„É´„Çπ„ÉÜ„Éº„Éà„ÅßÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ
app/hooks/useGetTextById.ts</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">create</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"zustand"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">interface</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">TextStore</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">analysisId</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">string</span><span style="color: #ABB2BF">[];</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">string</span><span style="color: #ABB2BF"> | null;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">setAnalysisId</span><span style="color: #ABB2BF">: (</span><span style="color: #E06C75; font-style: italic">naiseiId</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">[]) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">void</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">setSelectedId</span><span style="color: #ABB2BF">: (</span><span style="color: #E06C75; font-style: italic">naiseiId</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">void</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">useGetTextById</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">create</span><span style="color: #ABB2BF">&#x3C;</span><span style="color: #E5C07B">TextStore</span><span style="color: #ABB2BF">>((</span><span style="color: #E06C75; font-style: italic">set</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> ({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">analysisId</span><span style="color: #ABB2BF">: [</span><span style="color: #98C379">""</span><span style="color: #ABB2BF">],</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">null</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">setAnalysisId</span><span style="color: #ABB2BF">: (</span><span style="color: #E06C75; font-style: italic">analysisId</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">analysisId</span><span style="color: #ABB2BF"> }),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">setSelectedId</span><span style="color: #ABB2BF">: (</span><span style="color: #E06C75; font-style: italic">analysisId</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">analysisId</span><span style="color: #ABB2BF"> }),</span></span>
<span class="line"><span style="color: #ABB2BF">}));</span></span></code></pre>
<h3 id="Ë°®Á§∫„ÇíÂàá„ÇäÊõø„Åà„Çã„Ç´„Çπ„Çø„É†„Éï„ÉÉ„ÇØ">Ë°®Á§∫„ÇíÂàá„ÇäÊõø„Åà„Çã„Ç´„Çπ„Çø„É†„Éï„ÉÉ„ÇØ</h3>
<p>„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„Å´ÂÖ•Âäõ„Åï„Çå„Åü„Éá„Éº„Çø„ÇíÂàá„ÇäÊõø„Åà„Çã„Åü„ÇÅ„ÅÆ„Ç∞„É≠„Éº„Éê„É´„Çπ„ÉÜ„Éº„Éà„Åß„Åô„ÄÇ
app/hooks/useRefresh.ts</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">create</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">'zustand'</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">type</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">RefreshStore</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">refresh</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">boolean</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">toggleRefresh</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">void</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">useRefresh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">create</span><span style="color: #ABB2BF">&#x3C;</span><span style="color: #E5C07B">RefreshStore</span><span style="color: #ABB2BF">>((</span><span style="color: #E06C75; font-style: italic">set</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> ({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">refresh</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">toggleRefresh</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">state</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> ({ </span><span style="color: #E06C75">refresh</span><span style="color: #ABB2BF">: </span><span style="color: #56B6C2">!</span><span style="color: #E5C07B">state</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">refresh</span><span style="color: #ABB2BF"> })),</span></span>
<span class="line"><span style="color: #ABB2BF">}));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">useRefresh</span><span style="color: #ABB2BF">;</span></span></code></pre>
<h3 id="„Éé„Éº„Éà„Éö„Éº„Ç∏„ÅÆË°®Á§∫„É≠„Ç∏„ÉÉ„ÇØ">„Éé„Éº„Éà„Éö„Éº„Ç∏„ÅÆË°®Á§∫„É≠„Ç∏„ÉÉ„ÇØ</h3>
<p>app/components/Note/index.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">"use client"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useEffect</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">useState</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"react"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">useRefresh</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useRefresh"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">useGetAllText</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useGetAllText"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useGetTextById</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useGetTextById"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">Note</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> [</span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">setText</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useState</span><span style="color: #ABB2BF">([])</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">toggleRefresh</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useRefresh</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">loading</span><span style="color: #ABB2BF"> }: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useGetAllText</span><span style="color: #ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">useEffect</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">resText</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">newArray</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">resText</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">parsedItem</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">JSON</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">parse</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">item</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// JSONÊñáÂ≠óÂàó„ÇíJavaScript„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´Â§âÊèõ</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">parsedItem</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">root</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">].</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">].</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">; </span><span style="color: #7F848E; font-style: italic">// text„ÅÆÂÄ§„ÇíÊäΩÂá∫</span></span>
<span class="line"><span style="color: #ABB2BF">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">processData</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">replacedData</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [];</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">for</span><span style="color: #ABB2BF"> (</span><span style="color: #C678DD">let</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">; </span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x3C;</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">length</span><span style="color: #ABB2BF">; </span><span style="color: #E06C75">i</span><span style="color: #56B6C2">++</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> { ...</span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF">] };</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">try</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">JSON</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">parse</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">root</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x26;&#x26;</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">root</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x26;&#x26;</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">root</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">&#x26;&#x26;</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">root</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">].</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textValue</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">root</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">].</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">].</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">textValue</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">newArray</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF">]) {</span></span>
<span class="line"><span style="color: #ABB2BF">              </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">newArray</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF">];</span></span>
<span class="line"><span style="color: #ABB2BF">            }</span></span>
<span class="line"><span style="color: #ABB2BF">          }</span></span>
<span class="line"><span style="color: #ABB2BF">        } </span><span style="color: #C678DD">catch</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">error</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">error</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"Error parsing JSON:"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">error</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">        }</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">replacedData</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">push</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">item</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">      }</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">newCreatedAt</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">replacedData</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E06C75">created_at</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">created_at</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">split</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'T'</span><span style="color: #ABB2BF">)[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">] </span><span style="color: #7F848E; font-style: italic">// Êó•‰ªòÈÉ®ÂàÜ„Å†„Åë„ÇíÂèñÂæó</span></span>
<span class="line"><span style="color: #ABB2BF">        };</span></span>
<span class="line"><span style="color: #ABB2BF">      });</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">newCreatedAt</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">sort</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">a</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">b</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">b</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">//Êó•‰ªò„ÇíÈôçÈ†Ü„Å´„Å™„Çâ„ÅπÊõø„Åà</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">newCreatedAt</span><span style="color: #ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">processData</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  }, [</span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">setText</span><span style="color: #ABB2BF">])</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">handleItemClick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">textId</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">number</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">useGetTextById</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getState</span><span style="color: #ABB2BF">().</span><span style="color: #61AFEF">setSelectedId</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">textId</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">toggleRefresh</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">let</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">timeoutId</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">setTimeout</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #7F848E; font-style: italic">// Editor„ÅÆstate„ÇíÊõ¥Êñ∞</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">toggleRefresh</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    }, </span><span style="color: #D19A66">100</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">clearTimeout</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">timeoutId</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex justify-center mx-4"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"max-w-2xl"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">{</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">loading</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #C678DD">?</span></span>
<span class="line"><span style="color: #ABB2BF">          &#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">{</span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;</span><span style="color: #E06C75">div</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">key</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">id</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">onClick</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #ABB2BF">() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">handleItemClick</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">)</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"my-2 rounded-md cursor-pointer px-2"</span></span>
<span class="line"><span style="color: #ABB2BF">              ></span></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"text-start text-3xl break-words whitespace-pre-wrap"</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"text-slate-400 text-end"</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">{</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">created_at</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">            )</span></span>
<span class="line"><span style="color: #ABB2BF">            )</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">{</span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">length</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x3C;=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x26;&#x26;</span><span style="color: #ABB2BF"> &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"text-lg"</span><span style="color: #ABB2BF">>Make a post now!&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">          &#x3C;/></span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #C678DD">:</span></span>
<span class="line"><span style="color: #ABB2BF">          &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">>loading.....&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<h4 id="„Ç≥„Éº„Éâ„ÇíËß£Ë™¨-2">„Ç≥„Éº„Éâ„ÇíËß£Ë™¨</h4>
<p>useEffect„ÅÆ‰∏≠„Åß„ÅØ„Éá„Éº„Çø„ÅÆÊï¥ÂΩ¢„Çí„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
:::details ÂÖ∑‰ΩìÁöÑ„Å´„Å©„Çì„Å™Êï¥ÂΩ¢„Çí„Åó„Å¶„Çã„Åã
„ÉÜ„Ç≠„Çπ„Éà
Êï¥ÂΩ¢Ââç:‚Äô{‚Äúroot‚Äù:{‚Äúchildren‚Äù:[{‚Äúchildren‚Äù:[{‚Äúdetail‚Äù:0,‚Äúformat‚Äù:0,‚Äúmode‚Äù:‚Äúnormal‚Äù,‚Äústyle‚Äù:"",‚Äútext‚Äù:‚Äúexample.‚Äù,‚Äútype‚Äù:‚Äútext‚Äù,‚Äúversion‚Äù:1}],‚Äúdirection‚Äù:‚Äúltr‚Äù,‚Äúformat‚Äù:"",‚Äúindent‚Äù:0,‚Äútype‚Äù:‚Äúparagraph‚Äù,‚Äúversion‚Äù:1}],‚Äúdirection‚Äù:‚Äúltr‚Äù,‚Äúformat‚Äù:"",‚Äúindent‚Äù:0,‚Äútype‚Äù:‚Äúroot‚Äù,‚Äúversion‚Äù:1}}‚Äô
Êï¥ÂΩ¢Âæå: ‚Äô<strong>example.</strong>‚Äô</p>
<p>‰ΩúÊàêÊó•
Êï¥ÂΩ¢Ââç: 2023-09-30T01:23:45
Êï¥ÂΩ¢Âæå: <strong>2023-09-30</strong>
:::</p>
<h4 id="text„ÅÆ‰∏ÄÁï™Âàù„ÇÅ„ÅÆË°å„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Å†„Åë„ÇíÂèñÂæó">text„ÅÆ‰∏ÄÁï™Âàù„ÇÅ„ÅÆË°å„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Å†„Åë„ÇíÂèñÂæó</h4>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">resText</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">newArray</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">resText</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">parsedItem</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">JSON</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">parse</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">item</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// JSONÊñáÂ≠óÂàó„ÇíJavaScript„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´Â§âÊèõ</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">parsedItem</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">root</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">].</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">].</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">; </span><span style="color: #7F848E; font-style: italic">// text„ÅÆÂÄ§„ÇíÊäΩÂá∫</span></span>
<span class="line"><span style="color: #ABB2BF">    });</span></span></code></pre>
<h4 id="processdata„ÅØÂèñÂæó„Åó„Åü„ÉÜ„Ç≠„Çπ„Éà„Éá„Éº„Çø„ÅÆtext„ÅÆ‰∏ÄÁï™Âàù„ÇÅ„ÅÆË°å„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Å®jsonÂΩ¢Âºè„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Åå‰∏ÄËá¥„Åô„Çã„ÅãÊ§úË®º„Åô„Çã">processData()„ÅØÂèñÂæó„Åó„Åü„ÉÜ„Ç≠„Çπ„Éà„Éá„Éº„Çø„ÅÆtext„ÅÆ‰∏ÄÁï™Âàù„ÇÅ„ÅÆË°å„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Å®JSONÂΩ¢Âºè„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Åå‰∏ÄËá¥„Åô„Çã„ÅãÊ§úË®º„Åô„Çã</h4>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">processData</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">replacedData</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [];</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">for</span><span style="color: #ABB2BF"> (</span><span style="color: #C678DD">let</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">; </span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x3C;</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">length</span><span style="color: #ABB2BF">; </span><span style="color: #E06C75">i</span><span style="color: #56B6C2">++</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> { ...</span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF">] };</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">try</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">JSON</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">parse</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">root</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x26;&#x26;</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">root</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x26;&#x26;</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">root</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">&#x26;&#x26;</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">root</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">].</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textValue</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textObj</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">root</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">].</span><span style="color: #E06C75">children</span><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">].</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">textValue</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">newArray</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF">]) {</span></span>
<span class="line"><span style="color: #ABB2BF">              </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">newArray</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF">];</span></span>
<span class="line"><span style="color: #ABB2BF">            }</span></span>
<span class="line"><span style="color: #ABB2BF">          }</span></span>
<span class="line"><span style="color: #ABB2BF">        } </span><span style="color: #C678DD">catch</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">error</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">error</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">"Error parsing JSON:"</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">error</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">        }</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">replacedData</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">push</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">item</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">      }</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">newCreatedAt</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">replacedData</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E06C75">created_at</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">created_at</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">split</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'T'</span><span style="color: #ABB2BF">)[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">] </span><span style="color: #7F848E; font-style: italic">// Êó•‰ªòÈÉ®ÂàÜ„Å†„Åë„ÇíÂèñÂæó</span></span>
<span class="line"><span style="color: #ABB2BF">        };</span></span>
<span class="line"><span style="color: #ABB2BF">      });</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">newCreatedAt</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">sort</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">a</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">b</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">b</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">//Êó•‰ªò„ÇíÈôçÈ†Ü„Å´„Å™„Çâ„ÅπÊõø„Åà</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">newCreatedAt</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span></code></pre>
<h4 id="ÂÆüÈöõ„Å´ÁîªÈù¢„ÅÆË°®Á§∫">ÂÆüÈöõ„Å´ÁîªÈù¢„ÅÆË°®Á§∫</h4>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #7F848E; font-style: italic">//„ÉÜ„Ç≠„Çπ„Éà„Éá„Éº„Çø„Åånull„ÅÆÂ†¥Âêà„Å´Ë°®Á§∫</span></span>
<span class="line"><span style="color: #ABB2BF"> {</span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">length</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x3C;=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&#x26;&#x26;</span><span style="color: #ABB2BF"> &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"text-lg"</span><span style="color: #ABB2BF">>Make a post now!&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">>}</span></span>
<span class="line"><span style="color: #ABB2BF"> </span></span>
<span class="line"><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">// api„ÅÆÂá¶ÁêÜ‰∏≠„ÅØloading„ÇíË°®Á§∫</span></span>
<span class="line"><span style="color: #ABB2BF">  {</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">loading</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #C678DD">?</span></span>
<span class="line"><span style="color: #ABB2BF">	  </span><span style="color: #7F848E; font-style: italic">//...</span></span>
<span class="line"><span style="color: #ABB2BF">	  </span><span style="color: #C678DD">:</span></span>
<span class="line"><span style="color: #ABB2BF">	  &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">>loading.....&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">        }</span></span></code></pre>
<h3 id="„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÅåÁîªÈù¢„Å´Ë°®Á§∫„Åó„Å¶„ÅÑ„Çã„Çπ„ÉÜ„Éº„Éà„ÇíÂàá„ÇäÊõø„Åà„Çã">„ÉÜ„Ç≠„Çπ„Éà„Ç®„Éá„Ç£„Çø„ÅåÁîªÈù¢„Å´Ë°®Á§∫„Åó„Å¶„ÅÑ„Çã„Çπ„ÉÜ„Éº„Éà„ÇíÂàá„ÇäÊõø„Åà„Çã</h3>
<p>„Éà„Ç∞„É´„Éú„Çø„É≥„ÇíË®≠ÁΩÆ„Åó„Å¶„Ç®„Éá„Ç£„Çø„ÅÆË°®Á§∫„ÉªÈùûË°®Á§∫„Çí‰Ωú„Çã
:::message
„Ç®„Éá„Ç£„Çø„Çí„Éà„Ç∞„É´„Åï„Åõ„Çã„Å†„Åë„Åß„ÅØ„Çπ„ÉÜ„Éº„Éà„ÅØÊõ¥Êñ∞„Åï„Çå„Åæ„Åõ„Çì„ÄÇ
useRefresh„Çí„ÅÜ„Åæ„Åè‰Ωø„ÅÑ„Çπ„ÉÜ„Éº„Éà„ÇíÊõ¥Êñ∞„Åï„Åõ„Åæ„Åô</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF">{</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">refresh</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;</span><span style="color: #E5C07B">Editor</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;/></span></span>
<span class="line"><span style="color: #ABB2BF">              </span><span style="color: #C678DD">:</span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">>&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">            }</span></span></code></pre>
<p>:::</p>
<p>app/components/NoteItem/index.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">"use client"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">useRefresh</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useRefresh"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useToggleEditor</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useToggleEditor"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">MdKeyboardBackspace</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"react-icons/md"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">Editor</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"../Editor/text-editor"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">PostButton</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"../PostButton"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">Note</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"../Note"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">NoteItem</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">refresh</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useRefresh</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">isOpen</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">onClose</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">onOpen</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useToggleEditor</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">{</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">isOpen</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span></span>
<span class="line"><span style="color: #ABB2BF">          &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"max-w-3xl mx-auto"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">            &#x3C; </span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex justify-start ml-4"</span><span style="color: #ABB2BF"> ></span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;</span><span style="color: #E06C75">button</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"border-none cursor-pointer bg-white hover:text-blue-400"</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #D19A66; font-style: italic">onClick</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #ABB2BF">() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">onClose</span><span style="color: #ABB2BF">()</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">              ></span></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;</span><span style="color: #E5C07B">MdKeyboardBackspace</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">size</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #D19A66">24</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;/</span><span style="color: #E06C75">button</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">            &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> ></span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">{</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">refresh</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">                &#x3C;</span><span style="color: #E5C07B">Editor</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;/></span></span>
<span class="line"><span style="color: #ABB2BF">              </span><span style="color: #C678DD">:</span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">>&#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">          &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> ></span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #C678DD">:</span></span>
<span class="line"><span style="color: #ABB2BF">          &#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">            &#x3C;</span><span style="color: #E5C07B">PostButton</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">            &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">onClick</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #ABB2BF">() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">onOpen</span><span style="color: #ABB2BF">()</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">              &#x3C;</span><span style="color: #E5C07B">Note</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">            &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">          &#x3C;/></span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<h3 id="„Éö„Éº„Ç∏„Å´ËøΩÂä†">„Éö„Éº„Ç∏„Å´ËøΩÂä†</h3>
<p>NoteItem„Çí„Éé„Éº„Éà„Éö„Éº„Ç∏„Å´ËøΩÂä†„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">NoteItem</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/components/NoteItem/intex"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">NotePage</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E5C07B">NoteItem</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">NotePage</span></span></code></pre>
<h3 id="Âãï‰ΩúÁ¢∫Ë™ç">Âãï‰ΩúÁ¢∫Ë™ç</h3>
<p>Âè≥‰∏ä„ÅÆ+„Éú„Çø„É≥„ÇíÊäº„Åô„Å®„ÄÅ„É≠„Éº„Éá„Ç£„É≥„Ç∞„ÅåËµ∞„ÇäÊñ∞„Åó„ÅÑPost„Çí„Éï„Çß„ÉÉ„ÉÅ„Åó„Åæ„Åô„ÄÇ
„Éà„Ç∞„É´„Éú„Çø„É≥„Åß„Ç®„Éá„Ç£„Çø„ÅÆË°®Á§∫„ÇíÂàá„ÇäÊõø„Åà„Çã„Åì„Å®„Åå„Åß„Åç„Å¶„ÅÑ„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/273086b2bcf0-20230929.png" alt=""></p>
<br>
<br>
<p>##„ÄÄ„Ç®„Éá„Ç£„Çø„Å´„ÉÜ„Ç≠„Çπ„Éà„ÇíË°®Á§∫„Åï„Åõ„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
app/components/editor/text-editor.tsx „Å´„Ç≥„Éº„Éâ„ÇíËøΩÂä†„Åó„Å¶„ÅÑ„Åç„Åæ„Åô</p>
<p>app/components/Editor/text-editor.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">'use client'</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useEffect</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">useState</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"react"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useGetTextById</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useGetTextById"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">useGetAllText</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useGetAllText"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">Editor</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> [</span><span style="color: #E5C07B">text</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">setText</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useState</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">''</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> [</span><span style="color: #E5C07B">emotion</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">setEmotion</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useState</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">''</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">selectedId</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useGetTextById</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">state</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">state</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">fetch</span><span style="color: #ABB2BF"> }: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useGetAllText</span><span style="color: #ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">   </span><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">useEffect</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">""</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">setEmotion</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">''</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">!==</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">null</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #7F848E; font-style: italic">// dataÈÖçÂàó„Åã„ÇâÈÅ∏Êäû„Åï„Çå„ÅüID„Å´‰∏ÄËá¥„Åô„ÇãË¶ÅÁ¥†„ÇíÊé¢„Åô</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">selectedData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">find</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">selectedData</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">selectedData</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #61AFEF">setEmotion</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">selectedData</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">emotion</span><span style="color: #ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">            } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">""</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// „Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çâ„Å™„ÅÑÂ†¥Âêà„ÅØÁ©∫„Å´Ë®≠ÂÆö</span></span>
<span class="line"><span style="color: #ABB2BF">            }</span></span>
<span class="line"><span style="color: #ABB2BF">        } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">""</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// selectedNaiseiId„Åånull„ÅÆÂ†¥Âêà„ÇÇÁ©∫„Å´Ë®≠ÂÆö</span></span>
<span class="line"><span style="color: #ABB2BF">        }</span></span>
<span class="line"><span style="color: #ABB2BF">    }, [</span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">])</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">editorConfig</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">	</span><span style="color: #E06C75">editorState</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> &#x3C;>&#x3C;/> </span><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    {...}</span></span>
<span class="line"><span style="color: #ABB2BF">        );</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h4 id="„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨-7">„Ç≥„Éº„Éâ„ÅÆËß£Ë™¨</h4>
<p>useEffectÂÜÖ„Åß„Éá„Éº„Çø„Çímap„Åó„ÄÅuseState„Åß„Çπ„ÉÜ„Éº„Éà„ÇíÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #7F848E; font-style: italic">// state„ÇíÂàùÊúüÂåñ„Åó„Åæ„Åô„ÄÇÂàùÊúüÂåñ„Åó„Å™„ÅÑ„Å®ÂâçÂõû„ÅÆ„Çπ„ÉÜ„Éº„Éà„ÅåÊÆã„ÇäÁîªÈù¢Ë°®Á§∫„ÅåÂ§â„Çè„Çä„Åæ„Åõ„Çì„ÄÇ</span></span>
<span class="line"><span style="color: #61AFEF">useEffect</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">""</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">setEmotion</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">''</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">    }, [</span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">])</span></span></code></pre>
<p>„Éá„Éº„Çø„Åå„ÅÇ„ÇãÊôÇ„Å´Âá¶ÁêÜ„ÇíÂÆüË°å„ÄÇ„Éá„Éº„Çø„Åå„Å™„ÅÑÂ†¥Âêà„ÅØÁ©∫„ÇíËøî„Åô„Çà„ÅÜ„Å´„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">!==</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">null</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #7F848E; font-style: italic">// dataÈÖçÂàó„Åã„ÇâÈÅ∏Êäû„Åï„Çå„ÅüID„Å´‰∏ÄËá¥„Åô„ÇãË¶ÅÁ¥†„ÇíÊé¢„Åô</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">selectedData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">find</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">item</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">item</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">id</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">selectedData</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">selectedData</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #61AFEF">setEmotion</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">selectedData</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">emotion</span><span style="color: #ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">            } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">""</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// „Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çâ„Å™„ÅÑÂ†¥Âêà„ÅØÁ©∫„Å´Ë®≠ÂÆö</span></span>
<span class="line"><span style="color: #ABB2BF">            }</span></span>
<span class="line"><span style="color: #ABB2BF">        } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">""</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// selectedNaiseiId„Åånull„ÅÆÂ†¥Âêà„ÇÇÁ©∫„Å´Ë®≠ÂÆö</span></span>
<span class="line"><span style="color: #ABB2BF">        }</span></span></code></pre>
<p>Lexical„ÅÆ„Ç®„Éá„Ç£„Çø„Å´„ÉÜ„Ç≠„Çπ„Éà„ÇíÊ∏°„Åó„Åæ„Åô„ÄÇ
„ÉÜ„Ç≠„Çπ„Éà„Åånull„ÅÆÂ†¥Âêà„Å´„ÅØ‰Ωï„ÇÇË°®Á§∫„Åï„Åõ„Åæ„Åõ„Çì„ÄÇ->„Åì„ÅÆ„Ç≥„Éº„ÉâÊõ∏„Åã„Å™„ÅÑ„Å®undifind„Å®„Å™„Çä Json.paese „Ç®„É©„Éº„Å´„Å™„Çä„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">editorConfig</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">	</span><span style="color: #E06C75">editorState</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> &#x3C;>&#x3C;/> </span><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span></code></pre>
<p>„Åì„Çå„Åß„Ç®„Éá„Ç£„Çø„Å´„Éá„Éº„Çø„ÅåÂÖ•„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/607a4e60e5c8-20230929.png" alt=""></p>
<br>
<br>
<h2 id="api„ÇíÂè©„ÅÑ„Å¶„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞„Å®ÂâäÈô§„ÅÆ„Éú„Çø„É≥„Çí‰Ωú„Çä„Åæ„Åô">API„ÇíÂè©„ÅÑ„Å¶„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞„Å®ÂâäÈô§„ÅÆ„Éú„Çø„É≥„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ</h2>
<p>‰ªäÂõû„ÅØ„ÄÅtext-editor.tsx„Å´„Éú„Çø„É≥„ÇíÁõ¥Êé•Êõ∏„ÅÑ„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ</p>
<h2 id="„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞">„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞</h2>
<p>app/components/Editor/text-editor.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">axios</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"axios"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useGetTextById</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useGetTextById"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">useGetAllText</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useGetAllText"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useToggleEditor</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useToggleEditor"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">Editor</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">selectedId</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useGetTextById</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">state</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">state</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">fetch</span><span style="color: #ABB2BF"> }: </span><span style="color: #E5C07B">any</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useGetAllText</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">onClose</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useToggleEditor</span><span style="color: #ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">useEffect</span><span style="color: #ABB2BF">({...})</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">handleUpdate</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">e</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">SyntheticEvent</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">e</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">preventDefault</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">onClose</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">setText</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">""</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">apiUrl</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">`/api/analysis/</span><span style="color: #C678DD">${</span><span style="color: #E06C75">selectedId</span><span style="color: #C678DD">}</span><span style="color: #98C379">`</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">updatedData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #7F848E; font-style: italic">// „É™„ÇØ„Ç®„Çπ„Éà„Éú„Éá„Ç£„Å´ÈÄÅ‰ø°„Åô„Çã„Éá„Éº„Çø</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        };</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">axios</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">put</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">apiUrl</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">updatedData</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">            .</span><span style="color: #61AFEF">then</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">response</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #E5C07B">toast</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">success</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'Updated!!!!'</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #61AFEF">fetch</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">response</span></span>
<span class="line"><span style="color: #ABB2BF">            })</span></span>
<span class="line"><span style="color: #ABB2BF">            .</span><span style="color: #61AFEF">catch</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">error</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">error</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'Error fetching data:'</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">error</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">            });</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #C678DD">return</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">{</span><span style="color: #7F848E; font-style: italic">/* ... */</span><span style="color: #ABB2BF">}</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex justify-end"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">{</span><span style="color: #7F848E; font-style: italic">/* ËøΩÂä† */</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">	&#x3C;</span><span style="color: #E06C75">button</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">'mx-4 mb-2 mt-2 text-md cursor-pointer rounded-lg border-none px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white'</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">onClick</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">handleUpdate</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">>Update&#x3C;/</span><span style="color: #E06C75">button</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">	&#x3C;</span><span style="color: #E5C07B">GenarateButton</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">textData</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">textData</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">{</span><span style="color: #7F848E; font-style: italic">/* ... */</span><span style="color: #ABB2BF">}</span></span>
<span class="line"><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<p>„ÄÄ#### „Ç≥„Éº„Éâ„ÅÆËß£Ë™¨
„Éú„Çø„É≥„ÇíÊäº„Åô„Å®handleUpdateÈñ¢Êï∞„ÅåÂÆüË°å„Åï„Çå„Åæ„Åô„ÄÇ
„Ç¢„ÉÉ„Éó„Éá„Éº„ÉàÂæå„ÅØ‰∏ÄË¶ßÁîªÈù¢„Å´Êàª„Çä„Åü„ÅÑ„ÅÆ„Åß„Ç®„Éá„Ç£„Çø„ÇíÈñâ„Åò„Åæ„Åô„ÄÇ
api„ÇíÂëº„Å≥Âá∫„Åó„ÄÅ„ÉÜ„Ç≠„Çπ„Éà„ÅÆÊõ¥Êñ∞„Çí„Åó„Åæ„Åô„ÄÇ</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #61AFEF">onClose</span><span style="color: #ABB2BF">()„ÄÄ</span><span style="color: #7F848E; font-style: italic">//Èñã„ÅÑ„Å¶„ÅÑ„Çã„Ç®„Éá„Ç£„Çø„ÇíÈñâ„Åò„Çã</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//Êõ¥Êñ∞„Åô„Çã„ÉÜ„Ç≠„Çπ„Éà(useState„ÅÆÂÄ§)„Çíaxios„Çí‰Ωø„ÅÑ„ÄÅapi„ÇíÂëº„Å≥Âá∫„Åó„Åæ„Åô„ÄÇ</span></span>
<span class="line"><span style="color: #ABB2BF"> </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">updatedData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">           </span><span style="color: #7F848E; font-style: italic">// „É™„ÇØ„Ç®„Çπ„Éà„Éú„Éá„Ç£„Å´ÈÄÅ‰ø°„Åô„Çã„Éá„Éº„Çø</span></span>
<span class="line"><span style="color: #ABB2BF">           </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">text</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">       };</span></span>
<span class="line"><span style="color: #ABB2BF">       </span><span style="color: #E5C07B">axios</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">put</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">apiUrl</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">updatedData</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">           .</span><span style="color: #61AFEF">then</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">response</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">               </span><span style="color: #E5C07B">toast</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">success</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'Updated!!!!'</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">               </span><span style="color: #61AFEF">fetch</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">               </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">response</span></span>
<span class="line"><span style="color: #ABB2BF">           })</span></span>
<span class="line"><span style="color: #ABB2BF">           .</span><span style="color: #61AFEF">catch</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">error</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">               </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">error</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'Error fetching data:'</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">error</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">           });</span></span></code></pre>
<p>„Åì„Çå„Åß‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Êõ¥Êñ∞„Åó„Åü„Éá„Éº„Çø„ÅåË°®Á§∫„Åï„Çå„Çå„Å∞OK„Åß„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/c75d92541b2a-20230929.png" alt="">
<img src="https://storage.googleapis.com/zenn-user-upload/7ecd0f3ddff0-20230929.png" alt=""></p>
<h2 id="„Éá„Éº„Çø„ÅÆÂâäÈô§">„Éá„Éº„Çø„ÅÆÂâäÈô§</h2>
<p>axios.delete„Å®„Åô„Çã„Åì„Å®„Åß„Éá„Éº„Çø„ÅÆÂâäÈô§„Åå„Åß„Åç„Åæ„Åô„ÄÇ
app/components/Editor/text-editor.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">Editor</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #61AFEF">useEffect</span><span style="color: #ABB2BF">({...})</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">handleDelete</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">e</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">SyntheticEvent</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">e</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">preventDefault</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">onClose</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">apiUrl</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">`/api/analysis/</span><span style="color: #C678DD">${</span><span style="color: #E06C75">selectedId</span><span style="color: #C678DD">}</span><span style="color: #98C379">`</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">axios</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">delete</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">apiUrl</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">            .</span><span style="color: #61AFEF">then</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">response</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #61AFEF">fetch</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD">return</span></span>
<span class="line"><span style="color: #ABB2BF">            })</span></span>
<span class="line"><span style="color: #ABB2BF">            .</span><span style="color: #61AFEF">catch</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">error</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">error</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'Error fetching data:'</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">error</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">            });</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #C678DD">return</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">{</span><span style="color: #7F848E; font-style: italic">/* ... */</span><span style="color: #ABB2BF">}</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"flex justify-end"</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">{</span><span style="color: #7F848E; font-style: italic">/* ËøΩÂä† */</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">&#x3C;</span><span style="color: #E06C75">button</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">'mx-4 mb-2 mt-2 text-md cursor-pointer rounded-lg border-none px-4 py-2 bg-red-600 hover:bg-red-700 text-white'</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">onClick</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">handleDelete</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">>Delete&#x3C;/</span><span style="color: #E06C75">button</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">	&#x3C;</span><span style="color: #E5C07B">GenarateButton</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">textData</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">textData</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> /></span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">{</span><span style="color: #7F848E; font-style: italic">/* ... */</span><span style="color: #ABB2BF">}</span></span>
<span class="line"><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<p>ÂÖà„Åª„Å©Êõ¥Êñ∞„Åó„Åü„Éá„Éº„Çø„ÇíÂâäÈô§„Åó„Åæ„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/d7d1af9beee0-20230929.png" alt=""></p>
<p>„Åì„Çå„Åß„Ç®„Éá„Ç£„ÇøÊ©üËÉΩ„ÅÆ‰ΩúÊàê„ÅØÁµÇ‰∫Ü„Åß„Åô„ÄÇ</p>
<br>
<br>
<h2 id="emotion„ÇíÊõ¥Êñ∞">Emotion„ÇíÊõ¥Êñ∞</h2>
<p>ÊÑüÊÉÖÂàÜÊûê„ÅØGenarateButton„Åß„Åó„Å¶„ÅÑ„Åæ„Åô„ÅÆ„Åß„ÄÅ„Åì„Çå„Å´API„ÅÆPUT„É°„ÇΩ„ÉÉ„Éâ„ÇíËøΩÂä†„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
app/components/GenarateButton/index.tsx</p>
<pre class="astro-code one-dark-pro" style="background-color: #282c34; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #98C379">"use client"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">axios</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"axios"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">useGetTextById</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">"@/app/hooks/useGetTextById"</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">GenarateButton</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75; font-style: italic">textData</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">}: {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">textData</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">string</span></span>
<span class="line"><span style="color: #ABB2BF">}) {</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">selectedId</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">useGetTextById</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">state</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">state</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">selectedId</span><span style="color: #ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">handleSubmit</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">async</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">e</span><span style="color: #ABB2BF">: { </span><span style="color: #61AFEF">preventDefault</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">void</span><span style="color: #ABB2BF"> }) </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  ...</span></span>
<span class="line"><span style="color: #ABB2BF">    }) : [];</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//ËøΩÂä†</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">apiUrl</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">`/api/openai/</span><span style="color: #C678DD">${</span><span style="color: #E06C75">selectedId</span><span style="color: #C678DD">}</span><span style="color: #98C379">`</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">updatedData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">emotion</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">filterData</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">axios</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">put</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">apiUrl</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">updatedData</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">      .</span><span style="color: #61AFEF">then</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">response</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">toast</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">success</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'Generated!!!!'</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #7F848E; font-style: italic">// fetchIsNaisei()</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">response</span></span>
<span class="line"><span style="color: #ABB2BF">      })</span></span>
<span class="line"><span style="color: #ABB2BF">      .</span><span style="color: #61AFEF">catch</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">error</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">=></span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">error</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">'Error fetching data:'</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">error</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">      });</span></span>
<span class="line"><span style="color: #ABB2BF">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;></span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;</span><span style="color: #E06C75">button</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #D19A66; font-style: italic">onClick</span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75">handleSubmit</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #D19A66; font-style: italic">className</span><span style="color: #56B6C2">=</span><span style="color: #98C379">"mx-4 mb-2 mt-2 text-md cursor-pointer rounded-lg border-none px-4 py-2 bg-lime-600 hover:bg-lime-700 text-white"</span></span>
<span class="line"><span style="color: #ABB2BF">      ></span></span>
<span class="line"><span style="color: #ABB2BF">        Generate</span></span>
<span class="line"><span style="color: #ABB2BF">      &#x3C;/</span><span style="color: #E06C75">button</span><span style="color: #ABB2BF">></span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">{</span><span style="color: #7F848E; font-style: italic">/* ÂâäÈô§ */</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #C678DD">{</span><span style="color: #7F848E; font-style: italic">/* &#x3C;div className="text-2xl">{generateData}&#x3C;/div> */</span><span style="color: #C678DD">}</span></span>
<span class="line"><span style="color: #ABB2BF">    &#x3C;/ ></span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  )</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre>
<p>„Åì„Çå„Åßemotion„ÅÆÊõ¥Êñ∞„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Éá„Éº„Çø„Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/c020c2f63766-20230929.png" alt="">
„Åì„Çå„ÇíGenerate„Åó„Åæ„Åô„ÄÇ
<img src="https://storage.googleapis.com/zenn-user-upload/da53b0ea90eb-20230929.png" alt="">
Supabase„ÅÆemotion„Ç´„É©„É†„Å´„Éá„Éº„Çø„ÅåÂÖ•„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<br>
<br></article><ul class="tags-container astro-vj4tpspi"><li class="inline-block my-1 underline-offset-4 astro-blwjyjpt"><a href="/tags/nextjs" class="text-sm pr-2 group astro-blwjyjpt" data-astro-transition-scope="astro-36ssibgs-2"><svg xmlns="http://www.w3.org/2000/svg" class=" scale-75 astro-blwjyjpt"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-blwjyjpt"></path></svg>
&nbsp;<span class="astro-blwjyjpt">nextjs</span></a></li><li class="inline-block my-1 underline-offset-4 astro-blwjyjpt"><a href="/tags/openai" class="text-sm pr-2 group astro-blwjyjpt" data-astro-transition-scope="astro-36ssibgs-3"><svg xmlns="http://www.w3.org/2000/svg" class=" scale-75 astro-blwjyjpt"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-blwjyjpt"></path></svg>
&nbsp;<span class="astro-blwjyjpt">openai</span></a></li><li class="inline-block my-1 underline-offset-4 astro-blwjyjpt"><a href="/tags/prisma" class="text-sm pr-2 group astro-blwjyjpt" data-astro-transition-scope="astro-36ssibgs-4"><svg xmlns="http://www.w3.org/2000/svg" class=" scale-75 astro-blwjyjpt"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-blwjyjpt"></path></svg>
&nbsp;<span class="astro-blwjyjpt">prisma</span></a></li><li class="inline-block my-1 underline-offset-4 astro-blwjyjpt"><a href="/tags/supabase" class="text-sm pr-2 group astro-blwjyjpt" data-astro-transition-scope="astro-36ssibgs-5"><svg xmlns="http://www.w3.org/2000/svg" class=" scale-75 astro-blwjyjpt"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-blwjyjpt"></path></svg>
&nbsp;<span class="astro-blwjyjpt">supabase</span></a></li><li class="inline-block my-1 underline-offset-4 astro-blwjyjpt"><a href="/tags/clerk" class="text-sm pr-2 group astro-blwjyjpt" data-astro-transition-scope="astro-36ssibgs-6"><svg xmlns="http://www.w3.org/2000/svg" class=" scale-75 astro-blwjyjpt"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-blwjyjpt"></path></svg>
&nbsp;<span class="astro-blwjyjpt">clerk</span></a></li></ul></main><footer class="mt-auto astro-sz7xmlte"><div class="max-w-3xl mx-auto px-0"><hr class="border-skin-line" aria-hidden="true"></div><div class="footer-wrapper astro-sz7xmlte"><a href="/contact" tabindex="0" class="group inline-block undefined astro-5eunqzkt">
„ÅäÂïè„ÅÑÂêà„Çè„Åõ
</a><a href="/privacy" tabindex="0" class="group inline-block  astro-sz7xmlte astro-5eunqzkt">„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº</a></div><div class="footer-wrapper astro-sz7xmlte"><div class="social-icons flex astro-upu6fzxr"><a href="https://github.com/ryotarofr" tabindex="0" class="group inline-block link-button astro-upu6fzxr astro-5eunqzkt" title=" „Ç´„Éó„Ç≥„Éº„Éâ on Github"><svg
    xmlns="http://www.w3.org/2000/svg"
    class="icon-tabler"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <path
      d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
    ></path>
  </svg></a><a href="https://www.instagram.com/" tabindex="0" class="group inline-block link-button astro-upu6fzxr astro-5eunqzkt" title="„Ç´„Éó„Ç≥„Éº„Éâ on Instagram"><svg
    xmlns="http://www.w3.org/2000/svg"
    class="icon-tabler"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <rect x="4" y="4" width="16" height="16" rx="4"></rect>
    <circle cx="12" cy="12" r="3"></circle>
    <line x1="16.5" y1="7.5" x2="16.5" y2="7.501"></line>
  </svg></a></div><div class="copyright-wrapper astro-sz7xmlte"><span class="astro-sz7xmlte">Copyright &#169; 2023</span><span class="separator astro-sz7xmlte">&nbsp;|&nbsp;</span><span class="astro-sz7xmlte">All rights reserved.</span></div></div></footer><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5112185578414045" crossorigin="anonymous"></script><!-- footer --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5112185578414045" data-ad-slot="9364325523" data-ad-format="auto" data-full-width-responsive="true"></ins></body></html>